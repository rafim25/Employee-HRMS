var e=Object.defineProperty,a=(a,r,t)=>((a,r,t)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t)(a,"symbol"!=typeof r?r+"":r,t);import{j as r,a as t,L as l,r as d,R as s,D as n,F as i,b as o,c,B as m,d as p,e as h,f as u,M as b,g as x,u as k,h as g,i as f,k as y,l as v,m as N,n as w,o as C,p as S,q as E,s as j,t as A,v as R,N as L,A as P,w as D,x as _,y as T,z as M,C as I,T as F,E as O,G as U,H as z,I as $,J as G,K as B,O as q,P as J,Q as V,S as H,U as W,V as Y,W as Z,X as K,Y as X,Z as Q,_ as ee,$ as ae,a0 as re,a1 as te,a2 as le,a3 as de,a4 as se,a5 as ne,a6 as ie,a7 as oe,a8 as ce,a9 as me,aa as pe,ab as he,ac as ue,ad as be,ae as xe,af as ke,ag as ge,ah as fe,ai as ye,aj as ve,ak as Ne,al as we,am as Ce,an as Se,ao as Ee,ap as je,aq as Ae,ar as Re,as as Le,at as Pe,au as De,av as _e,aw as Te,ax as Me,ay as Ie,az as Fe,aA as Oe,aB as Ue,aC as ze,aD as $e,aE as Ge,aF as Be,aG as qe,aH as Je,aI as Ve,aJ as He,aK as We,aL as Ye,aM as Ze,aN as Ke,aO as Xe,aP as Qe,aQ as ea,aR as aa,aS as ra,aT as ta,aU as la,aV as da,aW as sa,aX as na,aY as ia,aZ as oa,a_ as ca}from"./vendor-BvopWGjj.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const ma=e=>r("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[t("h2",{className:"text-title-md2 font-semibold text-black dark:text-white",children:e.pageName}),t("nav",{children:r("ol",{className:"flex items-center gap-2",children:[t("li",{children:t(l,{to:"/admin/dashboard",children:"Dashboard /"})}),t("li",{className:"text-primary",children:e.pageName})]})})]}),pa=e=>r("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[t("h2",{className:"text-title-md2 font-semibold text-black dark:text-white",children:e.pageName}),t("nav",{children:r("ol",{className:"flex items-center gap-2",children:[t("li",{children:t(l,{to:"/pegawai/dashboard",children:"Dashboard /"})}),t("li",{className:"text-primary",children:e.pageName})]})})]}),ha=({children:e,className:a,onClick:r})=>t("button",{className:`${a} inline-flex items-center justify-center gap-2 rounded-md bg-meta-3 py-2 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10`,onClick:r,children:e}),ua=({children:e,className:a,onClick:r})=>t("button",{className:`${a} inline-flex items-center justify-center gap-2 rounded-md bg-danger py-2 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10`,onClick:r,children:e}),ba=({children:e,className:a,onClick:r})=>t("button",{className:`${a} inline-flex items-center justify-center gap-2 rounded-md bg-warning py-2 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10`,onClick:r,children:e}),xa="SET_USER",ka="CLEAR_USER",ga="SET_ERROR",fa="SET_DASHBOARD_STATS",ya="SET_USER_LIST",va="SET_USER_LOADING",Na="SET_USER_ERROR",wa="DELETE_USER",Ca="UPDATE_USER",Sa="SET_LOAN_LIST",Ea="SET_LOAN_LOADING",ja="SET_LOAN_ERROR",Aa="DELETE_LOAN",Ra={list:[],loading:!1,error:null},La=(e,a)=>{const r=((e,a)=>{switch(a.type){case xa:return{...e,user:a.payload,isAuthenticated:!0,error:null};case fa:return{...e,dashboard:{...e.dashboard,activeLoans:a.payload.activeLoans,totalCustomers:a.payload.totalCustomers,totalAdmins:a.payload.totalAdmins,totalAvailableFunds:a.payload.totalAvailableFunds,totalExpenses:a.payload.totalExpenses,monthlyExpenses:a.payload.monthlyExpenses,monthlyIncome:a.payload.monthlyIncome}};case"SET_USER_COUNT":return{...e,userCount:a.payload,error:null};case ka:return{...e,user:null,transactions:[],lendingDetails:{}};case"SET_TRANSACTIONS":return{...e,transactions:a.payload};case"SET_LENDING_DETAILS":return{...e,lendingDetails:a.payload};case ga:return{...e,error:a.payload};case"CLEAR_ERROR":return{...e,error:null};case"SET_USERS":return{...e,users:a.payload};case"SET_ADMIN_COUNT":return{...e,adminCount:a.payload};case"SET_LOANS":return{...e,loans:a.payload};default:return e}})(e,a),t=((e,a)=>{switch(a.type){case"CREATE_USER":return{...e,users:[...e.users,a.payload],loading:!1,error:null};case ya:return{...e,users:a.payload,loading:!1,error:null};case va:return{...e,loading:a.payload};case Na:return{...e,error:a.payload,loading:!1};case wa:return{...e,users:e.users.filter((e=>e.user_id!==a.payload)),loading:!1};case Ca:return{...e,users:e.users.map((e=>e.user_id===a.payload.user_id?a.payload:e)),loading:!1};default:return e}})(r,a),l=((e,a)=>{var r,t,l,d,s;switch(a.type){case Ea:return{...e,loans:{...e.loans||Ra,loading:a.payload}};case Sa:return{...e,loans:{...e.loans||Ra,list:a.payload.map((e=>({...e,loan_amount:parseFloat(e.loan_amount),remaining_balance:parseFloat(e.remaining_balance),interest_amount:.01*parseFloat(e.loan_amount)}))),loading:!1,error:null}};case ja:return{...e,loans:{...e.loans||Ra,error:a.payload,loading:!1}};case"CREATE_LOAN":return{...e,loans:{...e.loans||Ra,list:[...(null==(r=e.loans)?void 0:r.list)||[],a.payload],loading:!1,error:null}};case"UPDATE_LOAN":return{...e,loans:{...e.loans||Ra,list:(null==(l=null==(t=e.loans)?void 0:t.list)?void 0:l.map((e=>e.loan_id===a.payload.loan_id?a.payload:e)))||[],loading:!1,error:null}};case Aa:return{...e,loans:{...e.loans||Ra,list:(null==(s=null==(d=e.loans)?void 0:d.list)?void 0:s.filter((e=>e.loan_id!==a.payload)))||[],loading:!1,error:null}};default:return e}})(t,a);return l},Pa=localStorage.getItem("user"),Da={user:(Pa?JSON.parse(Pa):null)||null,error:null,loading:!1,dashboard:{activeLoans:0,totalCustomers:0,totalAdmins:0},transactions:[],users:[],admins:[],loans:[],lendingDetails:{},loans:{list:[],loading:!1,error:null}},_a=d.createContext(),Ta=({children:e})=>{const[a,l]=d.useReducer(La,Da),i=s.useMemo((()=>({state:a,dispatch:l})),[a]);return r(_a.Provider,{value:i,children:[t(n,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#333",color:"#fff",borderRadius:"8px",padding:"16px"},success:{style:{background:"#28a745"}},error:{style:{background:"#dc3545"},duration:4e3}}}),e]})},Ma=()=>{const e=d.useContext(_a);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Ia=()=>{const{state:e}=Ma(),{totalCustomers:a=0}=e.dashboard||{};return r("div",{className:"rounded-sm border border-stroke bg-white py-6 px-7.5 shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"flex h-11.5 w-11.5 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4",children:t(i,{className:"fill-primary dark:fill-white text-xl"})}),t("div",{className:"mt-4 flex items-end justify-between",children:r("div",{children:[t("h4",{className:"text-title-md font-bold text-black dark:text-white",children:a}),t("span",{className:"text-sm font-medium",children:"Total Customers"})]})})]})},Fa=()=>{const{state:e}=Ma(),{totalAdmins:a=0}=e.dashboard||{};return r("div",{className:"rounded-sm border border-stroke bg-white py-6 px-7.5 shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"flex h-11.5 w-11.5 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4",children:t(o,{className:"fill-primary dark:fill-white text-xl"})}),t("div",{className:"mt-4 flex items-end justify-between",children:r("div",{children:[t("h4",{className:"text-title-md font-bold text-black dark:text-white",children:a}),t("span",{className:"text-sm font-medium",children:"Admin"})]})})]})},Oa=()=>{const{state:e}=Ma(),{activeLoans:a=0}=e.dashboard||{};return console.log("state.dashboard",e),r("div",{className:"rounded-sm border border-stroke bg-white py-6 px-7.5 shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"flex h-11.5 w-11.5 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4",children:t(c,{className:"fill-primary dark:fill-white text-xl"})}),t("div",{className:"mt-4 flex items-end justify-between",children:r("div",{children:[t("h4",{className:"text-title-md font-bold text-black dark:text-white",children:a}),t("span",{className:"text-sm font-medium",children:"Total Active Purchase"})]})})]})},Ua=()=>{const{state:e}=Ma(),{totalAvailableFunds:a=0,error:l}=e.dashboard||{};return r("div",{className:"rounded-sm border border-stroke bg-white py-6 px-7.5 shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"flex h-11.5 w-11.5 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4",children:t(m,{className:"fill-success dark:fill-success text-xl"})}),t("div",{className:"mt-4 flex items-end justify-between",children:r("div",{children:[t("h4",{className:"text-title-md font-bold text-success dark:text-success",children:l?t("span",{className:"text-danger",children:"Error loading data"}):`â‚¹${Number(a).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`}),t("span",{className:"text-sm font-medium text-success",children:"Total Income"})]})})]})},za=()=>{const{state:e}=Ma(),{totalExpenses:a=0,error:l}=e.dashboard||{};return r("div",{className:"rounded-sm border border-stroke bg-white py-6 px-7.5 shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"flex h-11.5 w-11.5 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4",children:t(p,{className:"fill-danger dark:fill-danger text-xl"})}),t("div",{className:"mt-4 flex items-end justify-between",children:r("div",{children:[t("h4",{className:"text-title-md font-bold text-danger dark:text-danger",children:l?t("span",{className:"text-danger",children:"Error loading data"}):`â‚¹${Number(a).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`}),t("span",{className:"text-sm font-medium text-danger",children:"Total Expenses"})]})})]})};class $a extends d.Component{constructor(e){super(e),a(this,"calculateTotals",((e,a)=>({totalExpenses:e.reduce(((e,a)=>e+Number(a)),0),totalIncome:a.reduce(((e,a)=>e+Number(a)),0)}))),a(this,"initializeChart",(e=>{const a=Array.isArray(e.monthlyExpenses)?e.monthlyExpenses.map(Number):Array(12).fill(0),r=Array.isArray(e.monthlyIncome)?e.monthlyIncome.map(Number):Array(12).fill(5e4),{totalExpenses:t,totalIncome:l}=this.calculateTotals(a,r);this.state={series:[{name:"Income",data:r},{name:"Expenses",data:a}],totalIncome:l,totalExpenses:t,options:{legend:{show:!0,position:"top",horizontalAlign:"left"},colors:["#3C50E0","#80CAEE"],chart:{fontFamily:"Satoshi, sans-serif",height:335,type:"area",dropShadow:{enabled:!0,color:"#623CEA14",top:10,blur:4,left:0,opacity:.1},toolbar:{show:!1},zoom:{enabled:!1}},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.3,stops:[0,90,100]}},responsive:[{breakpoint:1024,options:{chart:{height:300}}},{breakpoint:1366,options:{chart:{height:350}}}],stroke:{width:[2,2],curve:"smooth"},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},markers:{size:4,colors:"#fff",strokeColors:["#3C50E0","#80CAEE"],strokeWidth:3,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],hover:{size:void 0,sizeOffset:5}},xaxis:{type:"category",categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{title:{text:"Amount (â‚¹)",style:{fontSize:"12px"}},labels:{formatter:function(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(0)+"K":e}},min:0,forceNiceScale:!0,tickAmount:6},tooltip:{shared:!0,intersect:!1,y:{formatter:function(e){return"â‚¹"+e.toLocaleString("en-IN")}}}}}})),this.initializeChart(e)}componentDidUpdate(e){if(e.monthlyExpenses!==this.props.monthlyExpenses||e.monthlyIncome!==this.props.monthlyIncome){const e=Array.isArray(this.props.monthlyExpenses)?this.props.monthlyExpenses.map(Number):Array(12).fill(0),a=Array.isArray(this.props.monthlyIncome)?this.props.monthlyIncome.map(Number):Array(12).fill(5e4),{totalExpenses:r,totalIncome:t}=this.calculateTotals(e,a);this.setState({series:[{name:"Income",data:a},{name:"Expenses",data:e}],totalIncome:t,totalExpenses:r})}}render(){const{series:e,options:a,totalIncome:l,totalExpenses:d}=this.state;return r("div",{className:"col-span-12 rounded-sm border border-stroke bg-white px-5 pt-7.5 pb-5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:col-span-8",children:[t("div",{className:"flex flex-wrap items-start justify-between gap-3 sm:flex-nowrap",children:r("div",{className:"flex w-full flex-wrap gap-3 sm:gap-5",children:[r("div",{className:"flex min-w-47.5",children:[t("span",{className:"mt-1 mr-2 flex h-4 w-full max-w-4 items-center justify-center rounded-full border border-primary",children:t("span",{className:"block h-2.5 w-full max-w-2.5 rounded-full bg-primary"})}),r("div",{className:"w-full",children:[t("p",{className:"font-semibold text-primary",children:"Monthly Income"}),t("p",{className:"text-sm font-medium",children:"Variable"}),r("p",{className:"text-xs text-gray-500",children:["Total: â‚¹",l.toLocaleString("en-IN")]})]})]}),r("div",{className:"flex min-w-47.5",children:[t("span",{className:"mt-1 mr-2 flex h-4 w-full max-w-4 items-center justify-center rounded-full border border-secondary",children:t("span",{className:"block h-2.5 w-full max-w-2.5 rounded-full bg-secondary"})}),r("div",{className:"w-full",children:[t("p",{className:"font-semibold text-secondary",children:"Monthly Expenses"}),t("p",{className:"text-sm font-medium",children:"Variable"}),r("p",{className:"text-xs text-gray-500",children:["Total: â‚¹",d.toLocaleString("en-IN")]})]})]})]})}),t("div",{children:t("div",{id:"chartOne",className:"-ml-5",children:t(h,{options:a,series:e,type:"area",height:350})})})]})}}const Ga=()=>{const{state:e}=Ma(),{totalExpenses:a=0,totalAvailableFunds:l=0}=e.dashboard||{},d={chart:{fontFamily:"Satoshi, sans-serif",type:"donut",foreColor:"#fff"},colors:["#10B981","#EF4444"],labels:["Total Income","Total Expenses"],legend:{show:!1,position:"bottom",labels:{colors:"#fff"}},plotOptions:{pie:{donut:{size:"65%",background:"transparent",labels:{show:!0,name:{show:!0,fontSize:"16px",color:"#fff",offsetY:-10},value:{show:!0,fontSize:"14px",color:"#fff",offsetY:16,formatter:function(e){return`â‚¹${Number(e).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`}},total:{show:!0,color:"#fff",label:"Total",formatter:function(e){return`â‚¹${e.globals.seriesTotals.reduce(((e,a)=>e+a),0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`}}}}}},dataLabels:{enabled:!1},responsive:[{breakpoint:2600,options:{chart:{width:380}}},{breakpoint:640,options:{chart:{width:200}}}]},s=[l,a];return r("div",{className:"col-span-12 rounded-sm border border-stroke bg-white px-5 pt-7.5 pb-5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:col-span-5",children:[t("div",{className:"mb-3 justify-between gap-4 sm:flex",children:t("div",{children:t("h5",{className:"text-xl font-semibold text-black dark:text-white",children:"Income vs Expenses"})})}),t("div",{className:"mb-2",children:t("div",{id:"chartTwo",className:"mx-auto flex justify-center",children:t(h,{options:d,series:s,type:"donut"})})}),r("div",{className:"-mx-8 flex flex-wrap items-center justify-center gap-y-3",children:[t("div",{className:"w-full px-8 sm:w-1/2",children:r("div",{className:"flex w-full items-center",children:[t("span",{className:"mr-2 block h-3 w-full max-w-3 rounded-full bg-success"}),r("p",{className:"flex w-full justify-between text-md font-medium text-black dark:text-white",children:[t("span",{children:"Total Income"}),r("span",{children:["â‚¹",Number(l).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})}),t("div",{className:"w-full px-8 sm:w-1/2",children:r("div",{className:"flex w-full items-center",children:[t("span",{className:"mr-2 block h-3 w-full max-w-3 rounded-full bg-danger"}),r("p",{className:"flex w-full justify-between text-md font-medium text-black dark:text-white",children:[t("span",{children:"Total Expenses"}),r("span",{children:["â‚¹",Number(a).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]})]})},Ba=()=>{const[e,a]=((e,a)=>{const[r,t]=d.useState((()=>{try{const r=window.localStorage.getItem(e);return r?JSON.parse(r):a}catch(r){return console.log(r),a}}));return d.useEffect((()=>{try{const a="function"==typeof r?r(r):r;window.localStorage.setItem(e,JSON.stringify(a))}catch(a){console.log(a)}}),[e,r]),[r,t]})("color-theme","light");return d.useEffect((()=>{const a="dark",r=window.document.body.classList;"dark"===e?r.add(a):r.remove(a)}),[e]),[e,a]},qa=()=>{const[e,a]=Ba();return t("li",{children:r("label",{className:"relative m-0 block h-7.5 w-14 rounded-full "+("dark"===e?"bg-primary":"bg-stroke"),children:[t("input",{type:"checkbox",onChange:()=>a("light"===e?"dark":"light"),className:"absolute top-0 z-50 m-0 h-full w-full cursor-pointer opacity-0 dur"}),r("span",{className:`absolute top-1/2 left-[3px] flex h-6 w-6 -translate-y-1/2 translate-x-0 items-center justify-center rounded-full bg-white shadow-switcher duration-75 ease-linear ${"dark"===e&&"!right-[3px] !translate-x-full"}`,children:[t("span",{className:"dark:hidden",children:r("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t("path",{d:"M7.99992 12.6666C10.5772 12.6666 12.6666 10.5772 12.6666 7.99992C12.6666 5.42259 10.5772 3.33325 7.99992 3.33325C5.42259 3.33325 3.33325 5.42259 3.33325 7.99992C3.33325 10.5772 5.42259 12.6666 7.99992 12.6666Z",fill:"#969AA1"}),t("path",{d:"M8.00008 15.3067C7.63341 15.3067 7.33342 15.0334 7.33342 14.6667V14.6134C7.33342 14.2467 7.63341 13.9467 8.00008 13.9467C8.36675 13.9467 8.66675 14.2467 8.66675 14.6134C8.66675 14.9801 8.36675 15.3067 8.00008 15.3067ZM12.7601 13.4267C12.5867 13.4267 12.4201 13.3601 12.2867 13.2334L12.2001 13.1467C11.9401 12.8867 11.9401 12.4667 12.2001 12.2067C12.4601 11.9467 12.8801 11.9467 13.1401 12.2067L13.2267 12.2934C13.4867 12.5534 13.4867 12.9734 13.2267 13.2334C13.1001 13.3601 12.9334 13.4267 12.7601 13.4267ZM3.24008 13.4267C3.06675 13.4267 2.90008 13.3601 2.76675 13.2334C2.50675 12.9734 2.50675 12.5534 2.76675 12.2934L2.85342 12.2067C3.11342 11.9467 3.53341 11.9467 3.79341 12.2067C4.05341 12.4667 4.05341 12.8867 3.79341 13.1467L3.70675 13.2334C3.58008 13.3601 3.40675 13.4267 3.24008 13.4267ZM14.6667 8.66675H14.6134C14.2467 8.66675 13.9467 8.36675 13.9467 8.00008C13.9467 7.63341 14.2467 7.33342 14.6134 7.33342C14.9801 7.33342 15.3067 7.63341 15.3067 8.00008C15.3067 8.36675 15.0334 8.66675 14.6667 8.66675ZM1.38675 8.66675H1.33341C0.966748 8.66675 0.666748 8.36675 0.666748 8.00008C0.666748 7.63341 0.966748 7.33342 1.33341 7.33342C1.70008 7.33342 2.02675 7.63341 2.02675 8.00008C2.02675 8.36675 1.75341 8.66675 1.38675 8.66675ZM12.6734 3.99341C12.5001 3.99341 12.3334 3.92675 12.2001 3.80008C11.9401 3.54008 11.9401 3.12008 12.2001 2.86008L12.2867 2.77341C12.5467 2.51341 12.9667 2.51341 13.2267 2.77341C13.4867 3.03341 13.4867 3.45341 13.2267 3.71341L13.1401 3.80008C13.0134 3.92675 12.8467 3.99341 12.6734 3.99341ZM3.32675 3.99341C3.15341 3.99341 2.98675 3.92675 2.85342 3.80008L2.76675 3.70675C2.50675 3.44675 2.50675 3.02675 2.76675 2.76675C3.02675 2.50675 3.44675 2.50675 3.70675 2.76675L3.79341 2.85342C4.05341 3.11342 4.05341 3.53341 3.79341 3.79341C3.66675 3.92675 3.49341 3.99341 3.32675 3.99341ZM8.00008 2.02675C7.63341 2.02675 7.33342 1.75341 7.33342 1.38675V1.33341C7.33342 0.966748 7.63341 0.666748 8.00008 0.666748C8.36675 0.666748 8.66675 0.966748 8.66675 1.33341C8.66675 1.70008 8.36675 2.02675 8.00008 2.02675Z",fill:"#969AA1"})]})}),t("span",{className:"hidden dark:inline-block",children:t("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M14.3533 10.62C14.2466 10.44 13.9466 10.16 13.1999 10.2933C12.7866 10.3667 12.3666 10.4 11.9466 10.38C10.3933 10.3133 8.98659 9.6 8.00659 8.5C7.13993 7.53333 6.60659 6.27333 6.59993 4.91333C6.59993 4.15333 6.74659 3.42 7.04659 2.72666C7.33993 2.05333 7.13326 1.7 6.98659 1.55333C6.83326 1.4 6.47326 1.18666 5.76659 1.48C3.03993 2.62666 1.35326 5.36 1.55326 8.28666C1.75326 11.04 3.68659 13.3933 6.24659 14.28C6.85993 14.4933 7.50659 14.62 8.17326 14.6467C8.27993 14.6533 8.38659 14.66 8.49326 14.66C10.7266 14.66 12.8199 13.6067 14.1399 11.8133C14.5866 11.1933 14.4666 10.8 14.3533 10.62Z",fill:"#969AA1"})})})]})]})})};console.log("BASE_URL",{BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://raghaveliteprojects.com",VITE_NODE_ENV:"development"});const Ja=u.create({baseURL:"https://raghaveliteprojects.com",headers:{"Content-Type":"application/json"},withCredentials:!0}),Va=(e,a={})=>Ja.get(e,a),Ha=(e,a,r={})=>Ja.post(e,a,r),Wa=(e,a,r={})=>Ja.put(e,a,r),Ya=(e,a={})=>Ja.delete(e,a),Za=(e,a,r={})=>Ja.patch(e,a,r),Ka="/api/v2/login",Xa="/api/v2/logout",Qa="/api/users",er=e=>`/api/users/${e}`,ar="/api/users",rr=e=>`/api/users/${e}`,tr=e=>`/api/users/${e}`,lr="/api/loans",dr=e=>`/api/loans/${e}`,sr="/api/loans",nr=e=>`/api/loans/${e}`,ir=e=>`/api/loans/${e}`,or=e=>`/api/loan-transactions/${e}`,cr="/api/transactions",mr=async(e,a)=>{var r,t;try{console.log("Making login request with credentials:",a);const r=await Ha(Ka,a);if(console.log("Login API response:",r),r.data){const a=r.data;return console.log("Storing user data:",a),localStorage.setItem("user",JSON.stringify(a)),e({type:xa,payload:a}),a}throw new Error("No data received from login response")}catch(l){throw console.error("Login action error:",l),console.error("Error details:",{response:l.response,message:l.message,stack:l.stack}),e({type:ga,payload:(null==(t=null==(r=l.response)?void 0:r.data)?void 0:t.msg)||"Login failed"}),l}},pr=async e=>{try{await Ha(Xa),localStorage.removeItem("user"),e({type:ka})}catch(a){console.error("Logout error:",a)}},hr=()=>{const[e,a]=d.useState(!1),{state:s,dispatch:n}=Ma(),{user:i}=s,o=d.useRef(null),c=d.useRef(null);d.useEffect((()=>{const r=({target:r})=>{c.current&&(!e||c.current.contains(r)||o.current.contains(r)||a(!1))};return document.addEventListener("click",r),()=>document.removeEventListener("click",r)})),d.useEffect((()=>{const r=({keyCode:r})=>{e&&27===r&&a(!1)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)}));return r("div",{className:"relative",children:[r(l,{ref:o,onClick:()=>a(!e),className:"flex items-center gap-4",to:"#",children:[r("span",{className:"hidden text-right lg:block",children:[t("span",{className:"block text-sm font-medium text-black dark:text-white",children:(null==i?void 0:i.username)||"User"}),t("span",{className:"block text-xs",children:(null==i?void 0:i.role)||"Loading..."})]}),t("span",{className:"h-12 w-12 rounded-full",children:t("img",{src:"/assets/admin-Du-lRZpi.svg",alt:"Admin"})}),t(b,{className:"text-xl"})]}),t("div",{ref:c,onFocus:()=>a(!0),onBlur:()=>a(!1),className:"absolute right-0 mt-4 flex w-62.5 flex-col rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark "+(!0===e?"block":"hidden"),children:t("ul",{className:"flex flex-col gap-5 border-b border-stroke px-6 py-7.5 dark:border-strokedark",children:t("li",{children:r(l,{to:"/",onClick:async()=>{await pr(n)},className:"flex items-center gap-3.5 text-sm font-medium duration-300 ease-in-out hover:text-primary lg:text-base",children:[t(x,{className:"text-xl"}),"Log Out"]})})})})]})},ur=()=>{const[e,a]=d.useState(!1),s=d.useRef(null),n=d.useRef(null);return d.useEffect((()=>{const r=({target:r})=>{n.current&&(!e||n.current.contains(r)||s.current.contains(r)||a(!1))};return document.addEventListener("click",r),()=>document.removeEventListener("click",r)})),d.useEffect((()=>{const r=({keyCode:r})=>{e&&27===r&&a(!1)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)})),r("li",{className:"relative",children:[r(l,{ref:s,onClick:()=>a(!e),to:"#",className:"relative flex h-8.5 w-8.5 items-center justify-center rounded-full border-[0.5px] border-stroke bg-gray hover:text-primary dark:border-strokedark dark:bg-meta-4 dark:text-white",children:[t("span",{className:"absolute -top-0.5 right-0 z-1 h-2 w-2 rounded-full bg-meta-1",children:t("span",{className:"absolute -z-1 inline-flex h-full w-full animate-ping rounded-full bg-meta-1 opacity-75"})}),t("svg",{className:"fill-current duration-300 ease-in-out",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M16.1999 14.9343L15.6374 14.0624C15.5249 13.8937 15.4687 13.7249 15.4687 13.528V7.67803C15.4687 6.01865 14.7655 4.47178 13.4718 3.31865C12.4312 2.39053 11.0812 1.7999 9.64678 1.6874V1.1249C9.64678 0.787402 9.36553 0.478027 8.9999 0.478027C8.6624 0.478027 8.35303 0.759277 8.35303 1.1249V1.65928C8.29678 1.65928 8.24053 1.65928 8.18428 1.6874C4.92178 2.05303 2.4749 4.66865 2.4749 7.79053V13.528C2.44678 13.8093 2.39053 13.9499 2.33428 14.0343L1.7999 14.9343C1.63115 15.2155 1.63115 15.553 1.7999 15.8343C1.96865 16.0874 2.2499 16.2562 2.55928 16.2562H8.38115V16.8749C8.38115 17.2124 8.6624 17.5218 9.02803 17.5218C9.36553 17.5218 9.6749 17.2405 9.6749 16.8749V16.2562H15.4687C15.778 16.2562 16.0593 16.0874 16.228 15.8343C16.3968 15.553 16.3968 15.2155 16.1999 14.9343ZM3.23428 14.9905L3.43115 14.653C3.5999 14.3718 3.68428 14.0343 3.74053 13.6405V7.79053C3.74053 5.31553 5.70928 3.23428 8.3249 2.95303C9.92803 2.78428 11.503 3.2624 12.6562 4.2749C13.6687 5.1749 14.2312 6.38428 14.2312 7.67803V13.528C14.2312 13.9499 14.3437 14.3437 14.5968 14.7374L14.7655 14.9905H3.23428Z",fill:""})})]}),r("div",{ref:n,onFocus:()=>a(!0),onBlur:()=>a(!1),className:"absolute -right-27 mt-2.5 flex h-90 w-75 flex-col rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark sm:right-0 sm:w-80 "+(!0===e?"block":"hidden"),children:[t("div",{className:"px-4.5 py-3",children:t("h5",{className:"text-sm font-medium text-bodydark2",children:"Notification"})}),r("ul",{className:"flex h-auto flex-col overflow-y-auto",children:[t("li",{children:r(l,{className:"flex flex-col gap-2.5 border-t border-stroke px-4.5 py-3 hover:bg-gray-2 dark:border-strokedark dark:hover:bg-meta-4",to:"#",children:[r("p",{className:"text-sm",children:[t("span",{className:"text-black dark:text-white",children:"Edit your information in a swipe"})," ","Sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim."]}),t("p",{className:"text-xs",children:"12 May, 2025"})]})}),t("li",{children:r(l,{className:"flex flex-col gap-2.5 border-t border-stroke px-4.5 py-3 hover:bg-gray-2 dark:border-strokedark dark:hover:bg-meta-4",to:"#",children:[r("p",{className:"text-sm",children:[t("span",{className:"text-black dark:text-white",children:"It is a long established fact"})," ","that a reader will be distracted by the readable."]}),t("p",{className:"text-xs",children:"24 Feb, 2025"})]})}),t("li",{children:r(l,{className:"flex flex-col gap-2.5 border-t border-stroke px-4.5 py-3 hover:bg-gray-2 dark:border-strokedark dark:hover:bg-meta-4",to:"#",children:[r("p",{className:"text-sm",children:[t("span",{className:"text-black dark:text-white",children:"There are many variations"})," ","of passages of Lorem Ipsum available, but the majority have suffered"]}),t("p",{className:"text-xs",children:"04 Jan, 2025"})]})}),t("li",{children:r(l,{className:"flex flex-col gap-2.5 border-t border-stroke px-4.5 py-3 hover:bg-gray-2 dark:border-strokedark dark:hover:bg-meta-4",to:"#",children:[r("p",{className:"text-sm",children:[t("span",{className:"text-black dark:text-white",children:"There are many variations"})," ","of passages of Lorem Ipsum available, but the majority have suffered"]}),t("p",{className:"text-xs",children:"01 Dec, 2024"})]})})]})]})]})},br=()=>{const[e,a]=d.useState(!1),[s,n]=d.useState({username:"",role:"",photo:null}),i=k(),{dispatch:o}=Ma(),c=d.useRef(null),m=d.useRef(null);d.useEffect((()=>{(async()=>{try{const e=await Va("/api/employee/profile");n({username:e.data.name,role:e.data.position,photo:e.data.photo})}catch(e){console.error("Error fetching user data:",e)}})()}),[]),d.useEffect((()=>{const r=({target:r})=>{m.current&&(!e||m.current.contains(r)||c.current.contains(r)||a(!1))};return document.addEventListener("click",r),()=>document.removeEventListener("click",r)})),d.useEffect((()=>{const r=({keyCode:r})=>{e&&27===r&&a(!1)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)}));return r("div",{className:"relative",children:[r(l,{ref:c,onClick:()=>a(!e),className:"flex items-center gap-4",to:"#",children:[r("span",{className:"hidden text-right lg:block",children:[t("span",{className:"block text-sm font-medium text-black dark:text-white",children:s.username||"Loading..."}),t("span",{className:"block text-xs",children:s.role||"Employee"})]}),t("span",{className:"h-12 w-12",children:s.photo?t("img",{className:"rounded-full",src:s.photo,alt:"User"}):t(g,{className:"h-full w-full text-gray-300"})}),t(b,{className:"text-xl"})]}),t("div",{ref:m,onFocus:()=>a(!0),onBlur:()=>a(!1),className:"absolute right-0 mt-4 flex w-62.5 flex-col rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark "+(!0===e?"block":"hidden"),children:t("ul",{className:"flex flex-col gap-5 border-b border-stroke px-6 py-7.5 dark:border-strokedark",children:t("li",{children:r("button",{onClick:async()=>{try{await pr(o),i("/")}catch(e){console.error("Error during logout:",e)}},className:"flex items-center gap-3.5 text-sm font-medium duration-300 ease-in-out hover:text-primary lg:text-base",children:[t(x,{className:"text-xl"}),"Log Out"]})})})})]})},xr=()=>t("footer",{className:"bg-primary text-white py-12 mt-auto",children:r("div",{className:"container mx-auto px-4",children:[r("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r("div",{children:[t("h6",{className:"text-xl font-semibold mb-4",children:"About Us"}),t("p",{className:"text-sm text-gray-200",children:"We are dedicated to providing the best real estate management solutions, helping clients streamline their property transactions efficiently and effectively."})]}),r("div",{children:[t("h6",{className:"text-xl font-semibold mb-4",children:"Contact Info"}),r("div",{className:"space-y-3",children:[r("div",{className:"flex items-center",children:[t(f,{className:"mr-2 text-xl"}),t("span",{className:"text-sm",children:"raghav.elite.projects@gmail.com"})]}),r("div",{className:"flex items-center",children:[t(y,{className:"mr-2 text-xl"}),t("span",{className:"text-sm",children:"+91 9900220446"})]}),r("div",{className:"flex items-center",children:[t(v,{className:"mr-2 text-xl"}),t("span",{className:"text-sm",children:"RAGHAVA ELITE PROJECTS AMRUTHA COLONY, CHIKALPARVI ROAD MANVI - 584123"})]})]})]}),r("div",{children:[t("h6",{className:"text-xl font-semibold mb-4",children:"Follow Us"}),r("div",{className:"flex space-x-4",children:[t("button",{className:"hover:text-gray-300 transition-colors","aria-label":"Facebook",children:t(N,{className:"text-2xl"})}),t("button",{className:"hover:text-gray-300 transition-colors","aria-label":"Twitter",children:t(w,{className:"text-2xl"})}),t("button",{className:"hover:text-gray-300 transition-colors","aria-label":"Instagram",children:t(C,{className:"text-2xl"})}),t("button",{className:"hover:text-gray-300 transition-colors","aria-label":"LinkedIn",children:t(S,{className:"text-2xl"})})]})]})]}),t("div",{className:"mt-8 pt-6 border-t border-gray-600 text-center",children:r("p",{className:"text-sm",children:["Â© ",(new Date).getFullYear()," Raghav Elite Projects. All rights reserved."]})})]})}),kr=({children:e})=>{const[a,l]=d.useState(!1);return t("div",{className:"dark:bg-boxdark-2 dark:text-bodydark",children:r("div",{className:"flex h-screen overflow-hidden",children:[t(Er,{sidebarOpen:a,setSidebarOpen:l}),r("div",{className:"relative flex flex-1 flex-col overflow-y-auto overflow-x-hidden",children:[t(Nr,{sidebarOpen:a,setSidebarOpen:l}),t("main",{children:t("div",{className:"mx-auto max-w-screen-2xl p-4 md:p-6 2xl:p-10",children:e})})]})]})})},gr=()=>{const e=k(),{state:a}=Ma(),[s,n]=d.useState([]),[i,o]=d.useState(!1),[c,m]=d.useState({loan_id:p(),customer_id:"",customer_name:"",loan_amount:"",advance_amount:"",remaining_balance:"",status:"active"});function p(){return`LN${Date.now().toString().slice(-6)}${Math.floor(1e3*Math.random()).toString().padStart(3,"0")}`}d.useEffect((()=>{(async()=>{try{const e=await Va(Qa);n(e.data)}catch(e){E.error("Failed to fetch customers"),console.error("Error fetching customers:",e)}})()}),[]);return r(kr,{children:[t(ma,{pageName:"Create New Purchase"}),t("div",{className:"sm:grid-cols-2",children:t("div",{className:"flex flex-col gap-9",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:t("h3",{className:"font-medium text-black dark:text-white",children:"Purchase Details"})}),t("form",{onSubmit:async a=>{var r,t;a.preventDefault();const l=E.loading("Creating loan...");try{const a={...c,remaining_balance:c.loan_amount-c.advance_amount,status:"active"};await Ha(sr,a);E.success("Loan created successfully",{id:l}),e("/admin/master-data/data-jabatan")}catch(d){E.error((null==(t=null==(r=d.response)?void 0:r.data)?void 0:t.message)||"Failed to create loan",{id:l})}},children:r("div",{className:"p-6.5",children:[r("div",{className:"mb-4.5",children:[t("label",{className:"mb-2.5 block text-black dark:text-white",children:"Purchase ID"}),t("input",{type:"text",value:c.loan_id,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",disabled:!0})]}),r("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Customer Name ",t("span",{className:"text-meta-1",children:"*"})]}),r("select",{value:c.customer_name,onChange:e=>{const a=s.find((a=>a.username===e.target.value));a&&m({...c,customer_id:a.user_id,customer_name:a.username})},className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",required:!0,children:[t("option",{value:"",children:"Select Customer"}),s.map((e=>t("option",{value:e.username,children:e.username},e.user_id)))]})]}),r("div",{className:"w-full xl:w-1/2",children:[t("label",{className:"mb-2.5 block text-black dark:text-white",children:"Customer ID"}),t("input",{type:"text",value:c.customer_id,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",disabled:!0})]})]}),r("div",{className:"mb-4.5",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Land Purchase Amount ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"number",placeholder:"Enter purchase amount",value:c.loan_amount,onChange:e=>m({...c,loan_amount:e.target.value}),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",required:!0})]}),r("div",{className:"mb-4.5",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Advance Amount ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"number",placeholder:"Enter advance amount",value:c.advance_amount,onChange:e=>m({...c,advance_amount:e.target.value}),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",required:!0})]}),r("div",{className:"flex flex-col md:flex-row w-full gap-3 text-center",children:[t(ha,{type:"submit",children:t("span",{children:"Save"})}),t(ua,{type:"button",onClick:()=>{m({loan_id:p(),customer_id:"",customer_name:"",loan_amount:"",advance_amount:"",remaining_balance:"",status:"active"})},children:t("span",{children:"Reset"})}),t(l,{to:"/admin/master-data/data-jabatan",children:t(ba,{children:t("span",{children:"Cancel"})})})]})]})})]})})})]})},fr=()=>{const e=k(),{dispatch:a}=Ma(),[s,n]=d.useState(!1),[i,o]=d.useState(""),[c,m]=d.useState({user_id:p(),username:"",email:"",password:"",gender:"",role:"",date_joined:"",mobile_number:"",address:"",status:"",photo:null,permissions:""});function p(){return`USR${Math.floor(1e3+9e3*Math.random())}`}const h=e=>{const{name:a,value:r,type:t,files:l}=e.target;m((e=>({...e,[a]:"file"===t?l[0]:r,..."username"===a?{password:r}:{}})))};return r(kr,{children:[t(ma,{pageName:"User Form"}),t("div",{className:"sm:grid-cols-2",children:t("div",{className:"flex flex-col gap-9",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:t("h3",{className:"font-medium text-black dark:text-white",children:"User Data Form"})}),i&&t("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative m-4",children:i}),t("form",{onSubmit:async a=>{var r,t,l,d;a.preventDefault(),n(!0),o("");const s=E.loading("Creating user...");try{const a=new FormData;Object.keys(c).forEach((e=>{"photo"===e&&c[e]?a.append("photo",c[e]):a.append(e,c[e])}));(await Ha(ar,a,{headers:{"Content-Type":"multipart/form-data"}})).data&&(E.success("User created successfully!",{id:s}),e("/admin/master-data/data-pegawai"))}catch(i){E.error((null==(t=null==(r=i.response)?void 0:r.data)?void 0:t.msg)||"Failed to create user",{id:s}),o((null==(d=null==(l=i.response)?void 0:l.data)?void 0:d.msg)||"Failed to create user")}finally{n(!1)}},children:r("div",{className:"p-6.5",children:[r("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["User ID ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"text",name:"user_id",value:c.user_id,readOnly:!0,className:"w-full rounded border-[1.5px] border-stroke bg-gray-100 py-3 px-5 font-medium outline-none"})]}),r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Username ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"text",name:"username",value:c.username,onChange:h,required:!0,placeholder:"Enter username",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]})]}),r("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Email ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"email",name:"email",value:c.email,onChange:h,required:!0,placeholder:"Enter email",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Password ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"password",name:"password",value:c.password,readOnly:!0,placeholder:"Password will match username",className:"w-full rounded border-[1.5px] border-stroke bg-gray-100 py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]})]}),r("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Gender ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[r("select",{name:"gender",value:c.gender,onChange:h,required:!0,className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:[t("option",{value:"",children:"Select Gender"}),t("option",{value:"Male",children:"Male"}),t("option",{value:"Female",children:"Female"})]}),t("span",{className:"absolute top-1/2 right-4 z-30 -translate-y-1/2 text-2xl",children:t(j,{})})]})]}),r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Role ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[r("select",{name:"role",value:c.role,onChange:h,required:!0,className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:[t("option",{value:"",children:"Select Role"}),t("option",{value:"Admin",children:"Admin"}),t("option",{value:"User",children:"User"})]}),t("span",{className:"absolute top-1/2 right-4 z-30 -translate-y-1/2 text-2xl",children:t(j,{})})]})]})]}),r("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Mobile Number ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"tel",name:"mobile_number",value:c.mobile_number,onChange:h,required:!0,placeholder:"Enter mobile number",pattern:"[0-9]{10}",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Address ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"text",name:"address",value:c.address,onChange:h,required:!0,placeholder:"Enter address",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]})]}),r("div",{className:"flex flex-col md:flex-row w-full gap-3 text-center mt-7.5",children:[t("button",{type:"submit",disabled:s,className:"inline-flex items-center justify-center gap-2.5 rounded-md bg-primary py-2.5 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10",children:s?"Saving...":"Save"}),t("button",{type:"button",onClick:()=>m({user_id:p(),username:"",email:"",password:"",gender:"",role:"",date_joined:"",mobile_number:"",address:"",status:"",photo:null,permissions:""}),className:"inline-flex items-center justify-center gap-2.5 rounded-md bg-warning py-2.5 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10",children:"Reset"}),t(l,{to:"/admin/master-data/data-pegawai",className:"inline-flex items-center justify-center gap-2.5 rounded-md bg-danger py-2.5 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10",children:"Cancel"})]})]})})]})})})]})},yr=()=>r(kr,{children:[t(ma,{pageName:"Form Setting Salary Deduction "}),t("div",{className:"sm:grid-cols-2",children:t("div",{className:"flex flex-col gap-9",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:t("h3",{className:"font-medium text-black dark:text-white",children:"Form Setting Salary Deduction"})}),t("form",{action:"#",children:r("div",{className:"p-6.5",children:[r("div",{className:"mb-4.5 ",children:[r("div",{className:"w-full mb-4",children:[r("label",{className:"mb-4 block text-black dark:text-white",children:["Salary ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"text",placeholder:"Masukkan potongan",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),r("div",{className:"w-full mb-4",children:[r("label",{className:"mb-4 block text-black dark:text-white",children:["Attendance ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"number",placeholder:"Masukkan jumlah potongan",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]})]}),r("div",{className:"flex flex-col md:flex-row w-full gap-3 text-center",children:[t(l,{to:"",children:t(ha,{children:t("span",{children:"Simpan"})})}),t(l,{to:"/admin/transaksi/setting-potongan-gaji/form-setting-potongan-gaji",children:t(ua,{children:t("span",{children:"Reset"})})}),t(l,{to:"/admin/transaksi/setting-potongan-gaji",children:t(ba,{children:t("span",{children:"Kembali"})})})]})]})})]})})})]}),vr=()=>{const e=k(),{loanId:a}=A(),{state:s,dispatch:n}=Ma(),[i,o]=d.useState([]),[c,m]=d.useState(!1),[p,h]=d.useState({loan_id:"",customer_id:"",customer_name:"",loan_amount:"",advance_amount:"",remaining_balance:"",status:"active"});d.useEffect((()=>{(async()=>{var r,t;if(!a)return E.error("Invalid loan ID"),void e("/admin/master-data/data-jabatan");m(!0);try{const[e,r]=await Promise.all([Va(`${dr(a)}`),Va(Qa)]),t=e.data;o(r.data),h({loan_id:t.loan_id||"",customer_id:t.customer_id||"",customer_name:t.customer_name||"",loan_amount:t.loan_amount||"",advance_amount:t.advance_amount||"",remaining_balance:t.remaining_balance||"",status:t.status||"active"})}catch(l){console.error("Error fetching data:",l),E.error((null==(t=null==(r=l.response)?void 0:r.data)?void 0:t.message)||"Failed to fetch data"),e("/admin/master-data/data-jabatan")}finally{m(!1)}})()}),[a,e]);return c?t(kr,{children:t("div",{className:"flex items-center justify-center h-full",children:t("div",{className:"text-center",children:"Loading..."})})}):r(kr,{children:[t(ma,{pageName:"Edit Purchase Details"}),t("div",{className:"sm:grid-cols-2",children:t("div",{className:"flex flex-col gap-9",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:t("h3",{className:"font-medium text-black dark:text-white",children:"Edit Purchase Details"})}),t("form",{onSubmit:async r=>{var t,l;r.preventDefault();const d=E.loading("Updating purchase details...");try{const r={...p,remaining_balance:Number(p.loan_amount)-Number(p.advance_amount)};await Wa(nr(a),r),E.success("Purchase details updated successfully",{id:d}),e("/admin/master-data/data-jabatan")}catch(s){E.error((null==(l=null==(t=s.response)?void 0:t.data)?void 0:l.message)||"Failed to update purchase details",{id:d})}},children:r("div",{className:"p-6.5",children:[r("div",{className:"mb-4.5",children:[t("label",{className:"mb-2.5 block text-black dark:text-white",children:"Purchase ID"}),t("input",{type:"text",value:p.loan_id,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",disabled:!0})]}),r("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Customer Name ",t("span",{className:"text-meta-1",children:"*"})]}),r("select",{value:p.customer_name,onChange:e=>{const a=i.find((a=>a.username===e.target.value));a&&h({...p,customer_id:a.user_id,customer_name:a.username})},className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",required:!0,children:[t("option",{value:"",children:"Select Customer"}),i.map((e=>t("option",{value:e.username,children:e.username},e.user_id)))]})]}),r("div",{className:"w-full xl:w-1/2",children:[t("label",{className:"mb-2.5 block text-black dark:text-white",children:"Customer ID"}),t("input",{type:"text",value:p.customer_id,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",disabled:!0})]})]}),r("div",{className:"mb-4.5",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Land Purchase Amount ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"number",placeholder:"Enter purchase amount",value:p.loan_amount,onChange:e=>h({...p,loan_amount:e.target.value}),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",required:!0})]}),r("div",{className:"mb-4.5",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Advance Amount ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"number",placeholder:"Enter advance amount",value:p.advance_amount,onChange:e=>h({...p,advance_amount:e.target.value}),className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",required:!0})]}),r("div",{className:"flex flex-col md:flex-row w-full gap-3 text-center",children:[t(ha,{type:"submit",children:t("span",{children:"Update"})}),t(ua,{type:"button",onClick:async()=>{if(a)try{const e=(await Va(`${dr(a)}`)).data;h({loan_id:e.loan_id||"",customer_id:e.customer_id||"",customer_name:e.customer_name||"",loan_amount:e.loan_amount||"",advance_amount:e.advance_amount||"",remaining_balance:e.remaining_balance||"",status:e.status||"active"})}catch(e){E.error("Failed to reset form")}},children:t("span",{children:"Reset"})}),t(l,{to:"/admin/master-data/data-jabatan",children:t(ba,{children:t("span",{children:"Cancel"})})})]})]})})]})})})]})},Nr=e=>t("header",{className:"sticky top-0 z-999 flex w-full bg-white drop-shadow-1 dark:bg-boxdark dark:drop-shadow-none",children:r("div",{className:"flex flex-grow items-center justify-between py-4 px-4 shadow-2 md:px-6 2xl:px-11",children:[t("div",{className:"flex items-center gap-2 sm:gap-4 lg:hidden",children:t("button",{"aria-controls":"sidebar","aria-expanded":e.sidebarOpen,onClick:a=>{a.stopPropagation(),e.setSidebarOpen(!e.sidebarOpen)},className:"z-99999 block rounded-sm border border-stroke bg-white p-1.5 shadow-sm dark:border-strokedark dark:bg-boxdark lg:hidden",children:r("span",{className:"relative block h-5.5 w-5.5 cursor-pointer",children:[r("span",{className:"du-block absolute right-0 h-full w-full",children:[t("span",{className:`relative top-0 left-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-[0] duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!w-full delay-300"}`}),t("span",{className:`relative top-0 left-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-150 duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"delay-400 !w-full"}`}),t("span",{className:`relative top-0 left-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-200 duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!w-full delay-500"}`})]}),r("span",{className:"absolute right-0 h-full w-full rotate-45",children:[t("span",{className:`absolute left-2.5 top-0 block h-full w-0.5 rounded-sm bg-black delay-300 duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!h-0 !delay-[0]"}`}),t("span",{className:`delay-400 absolute left-0 top-2.5 block h-0.5 w-full rounded-sm bg-black duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!h-0 !delay-200"}`})]})]})})}),t("div",{className:"hidden sm:block",children:t("form",{action:"https://formbold.com/s/unique_form_id",method:"POST"})}),r("div",{className:"flex items-center gap-3 2xsm:gap-7",children:[r("ul",{className:"flex items-center gap-2 2xsm:gap-4",children:[t(qa,{}),t(ur,{})]}),t(hr,{})]})]})}),wr=e=>t("header",{className:"sticky top-0 z-999 flex w-full bg-white drop-shadow-1 dark:bg-boxdark dark:drop-shadow-none",children:r("div",{className:"flex flex-grow items-center justify-between py-4 px-4 shadow-2 md:px-6 2xl:px-11",children:[t("div",{className:"flex items-center gap-2 sm:gap-4 lg:hidden",children:t("button",{"aria-controls":"sidebar","aria-expanded":e.sidebarOpen,onClick:a=>{a.stopPropagation(),e.setSidebarOpen(!e.sidebarOpen)},className:"z-99999 block rounded-sm border border-stroke bg-white p-1.5 shadow-sm dark:border-strokedark dark:bg-boxdark lg:hidden",children:r("span",{className:"relative block h-5.5 w-5.5 cursor-pointer",children:[r("span",{className:"du-block absolute right-0 h-full w-full",children:[t("span",{className:`relative top-0 left-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-[0] duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!w-full delay-300"}`}),t("span",{className:`relative top-0 left-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-150 duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"delay-400 !w-full"}`}),t("span",{className:`relative top-0 left-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-200 duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!w-full delay-500"}`})]}),r("span",{className:"absolute right-0 h-full w-full rotate-45",children:[t("span",{className:`absolute left-2.5 top-0 block h-full w-0.5 rounded-sm bg-black delay-300 duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!h-0 !delay-[0]"}`}),t("span",{className:`delay-400 absolute left-0 top-2.5 block h-0.5 w-full rounded-sm bg-black duration-200 ease-in-out dark:bg-white ${!e.sidebarOpen&&"!h-0 !delay-200"}`})]})]})})}),t("div",{className:"hidden sm:block",children:t("form",{action:"https://formbold.com/s/unique_form_id",method:"POST"})}),r("div",{className:"flex items-center gap-3 2xsm:gap-7",children:[r("ul",{className:"flex items-center gap-2 2xsm:gap-4",children:[t(qa,{}),t(ur,{})]}),t(br,{})]})]})}),Cr=({children:e,activeCondition:a})=>{const[r,l]=d.useState(a);return t("li",{children:e((()=>{l(!r)}),r)})},Sr="/assets/logo-dark-BXdVlULa.png",Er=({sidebarOpen:e,setSidebarOpen:a})=>{const l=R(),{pathname:n}=l,i=d.useRef(null),o=d.useRef(null),c=localStorage.getItem("sidebar-expanded"),[m,p]=d.useState(null!==c&&"true"===c);return d.useEffect((()=>{const r=({target:r})=>{o.current&&i.current&&(!e||o.current.contains(r)||i.current.contains(r)||a(!1))};return document.addEventListener("click",r),()=>document.removeEventListener("click",r)})),d.useEffect((()=>{const r=({keyCode:r})=>{e&&27===r&&a(!1)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)})),d.useEffect((()=>{localStorage.setItem("sidebar-expanded",m),m?document.querySelector("body").classList.add("sidebar-expanded"):document.querySelector("body").classList.remove("sidebar-expanded")}),[m]),r("aside",{ref:o,className:"absolute left-0 top-0 z-9999 flex h-screen w-72.5 flex-col overflow-y-hidden bg-black duration-300 ease-linear dark:bg-boxdark lg:static lg:translate-x-0 "+(e?"translate-x-0":"-translate-x-full"),children:[r("div",{className:"flex items-center justify-center px-6 py-5.5 lg:py-6.5 object-cover",children:[t(L,{to:"/admin/dashboard",children:t("img",{src:Sr,alt:"Logo"})}),t("button",{ref:i,onClick:()=>a(!e),"aria-controls":"sidebar","aria-expanded":e,className:"block lg:hidden",children:t(P,{className:"text-xl"})})]}),t("div",{className:"no-scrollbar flex flex-col overflow-y-auto duration-300 ease-linear",children:t("nav",{className:"mt-4 px-4 lg:mt-9 lg:px-6",children:t("div",{children:r("ul",{className:"mb-6 flex flex-col gap-1.5",children:[r(L,{to:"/admin/dashboard",className:`group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-bodydark1 duration-300 ease-in-out hover:bg-graydark dark:hover:bg-meta-4 ${n.includes("dashboard")&&"bg-graydark dark:bg-meta-4"}`,children:[t(D,{}),"Dashboard"]}),t(Cr,{activeCondition:"/masterdata"===n||n.includes("masterdata"),children:(e,a)=>r(s.Fragment,{children:[r(L,{to:"#",className:`group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-bodydark1 duration-300 ease-in-out hover:bg-graydark dark:hover:bg-meta-4 ${("/masterdata"===n||n.includes("masterdata"))&&"bg-graydark dark:bg-meta-4"}`,onClick:a=>{a.preventDefault(),m?e():p(!0)},children:[t(_,{}),"Customer Data",t(b,{className:`absolute right-4 top-1/2 -translate-y-1/2 fill-current text-2xl ${a&&"rotate-180"}`})]}),t("div",{className:`translate transform overflow-hidden ${!a&&"hidden"}`,children:r("ul",{className:"mt-4 mb-5.5 flex flex-col gap-2.5 pl-6",children:[t("li",{children:t(L,{to:"/admin/master-data/data-pegawai",className:({isActive:e})=>"group relative flex items-center gap-2.5 rounded-md px-4 font-medium text-bodydark2 duration-300 ease-in-out hover:text-white "+(e&&"!text-white"),children:"Customer Details"})}),t("li",{children:t(L,{to:"/admin/master-data/data-jabatan",className:({isActive:e})=>"group relative flex items-center gap-2.5 rounded-md px-4 font-medium text-bodydark2 duration-300 ease-in-out hover:text-white "+(e&&"!text-white"),children:"Purchase Details"})})]})})]})}),t(Cr,{activeCondition:"/expense"===n||n.includes("expense"),children:(e,a)=>r(s.Fragment,{children:[r(L,{to:"#",className:`group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-bodydark1 duration-300 ease-in-out hover:bg-graydark dark:hover:bg-meta-4 ${("/expense"===n||n.includes("expense"))&&"bg-graydark dark:bg-meta-4"}`,onClick:a=>{a.preventDefault(),m?e():p(!0)},children:[t(T,{}),"Expense Management",t(b,{className:`absolute right-4 top-1/2 -translate-y-1/2 fill-current text-2xl ${a&&"rotate-180"}`})]}),t("div",{className:`translate transform overflow-hidden ${!a&&"hidden"}`,children:r("ul",{className:"mt-4 mb-5.5 flex flex-col gap-2.5 pl-6",children:[t("li",{children:t(L,{to:"/admin/expense/add",className:({isActive:e})=>"group relative flex items-center gap-2.5 rounded-md px-4 font-medium text-bodydark2 duration-300 ease-in-out hover:text-white "+(e&&"!text-white"),children:"Add Expense"})}),t("li",{children:t(L,{to:"/admin/expense/list",className:({isActive:e})=>"group relative flex items-center gap-2.5 rounded-md px-4 font-medium text-bodydark2 duration-300 ease-in-out hover:text-white "+(e&&"!text-white"),children:"Expense List"})})]})})]})}),t(Cr,{activeCondition:"/pengaturan"===n||n.includes("pengaturan"),children:(e,a)=>r(s.Fragment,{children:[r(L,{to:"#",className:`group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-bodydark1 duration-300 ease-in-out hover:bg-graydark dark:hover:bg-meta-4 ${("/pengaturan"===n||n.includes("pengaturan"))&&"bg-graydark dark:bg-meta-4"}`,onClick:a=>{a.preventDefault(),m?e():p(!0)},children:[t(M,{}),"Settings",t(b,{className:`absolute right-4 top-1/2 -translate-y-1/2 fill-current text-2xl ${a&&"rotate-180"}`})]}),t("div",{className:`translate transform overflow-hidden ${!a&&"hidden"}`,children:t("ul",{className:"mt-4 mb-5.5 flex flex-col gap-2.5 pl-6",children:t("li",{children:t(L,{to:"/",className:({isActive:e})=>"group relative flex items-center gap-2.5 rounded-md px-4 font-medium text-bodydark2 duration-300 ease-in-out hover:text-white "+(e&&"!text-white"),children:"Log Out"})})})})]})})]})})})})]})},jr=({sidebarOpen:e,setSidebarOpen:a})=>{const l=R(),{pathname:n}=l,i=d.useRef(null),o=d.useRef(null),c=localStorage.getItem("sidebar-expanded"),[m,p]=d.useState(null!==c&&"true"===c);return d.useEffect((()=>{const r=({target:r})=>{o.current&&i.current&&(!e||o.current.contains(r)||i.current.contains(r)||a(!1))};return document.addEventListener("click",r),()=>document.removeEventListener("click",r)})),d.useEffect((()=>{const r=({keyCode:r})=>{e&&27===r&&a(!1)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)})),d.useEffect((()=>{var e,a;localStorage.setItem("sidebar-expanded",m.toString()),m?null==(e=document.querySelector("body"))||e.classList.add("sidebar-expanded"):null==(a=document.querySelector("body"))||a.classList.remove("sidebar-expanded")}),[m]),r("aside",{ref:o,className:"absolute left-0 top-0 z-9999 flex h-screen w-72.5 flex-col overflow-y-hidden bg-black duration-300 ease-linear dark:bg-boxdark lg:static lg:translate-x-0 "+(e?"translate-x-0":"-translate-x-full"),children:[r("div",{className:"flex items-center justify-center px-6 py-5.5 lg:py-6.5 object-cover",children:[t(L,{to:"/pegawai/dashboard",children:t("img",{src:Sr,alt:"Logo"})}),t("button",{ref:i,onClick:()=>a(!e),"aria-controls":"sidebar","aria-expanded":e,className:"block lg:hidden",children:t(P,{className:"text-xl"})})]}),t("div",{className:"no-scrollbar flex flex-col overflow-y-auto duration-300 ease-linear",children:t("nav",{className:"mt-4 px-4 lg:mt-9 lg:px-6",children:t("div",{children:r("ul",{className:"mb-6 flex flex-col gap-1.5",children:[r(L,{to:"/pegawai/dashboard",className:`group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-bodydark1 duration-300 ease-in-out hover:bg-graydark dark:hover:bg-meta-4 ${n.includes("dashboard")&&"bg-graydark dark:bg-meta-4"}`,children:[t(D,{}),"Dashboard"]}),t(Cr,{activeCondition:"/pengaturan"===n||n.includes("pengaturan"),children:(e,a)=>r(s.Fragment,{children:[r(L,{to:"#",className:`group relative flex items-center gap-2.5 rounded-sm py-2 px-4 font-medium text-bodydark1 duration-300 ease-in-out hover:bg-graydark dark:hover:bg-meta-4 ${("/pengaturan"===n||n.includes("pengaturan"))&&"bg-graydark dark:bg-meta-4"}`,onClick:a=>{a.preventDefault(),m?e():p(!0)},children:[t(M,{}),"Settings",t(b,{className:`absolute right-4 top-1/2 -translate-y-1/2 fill-current text-2xl ${a&&"rotate-180"}`})]}),t("div",{className:`translate transform overflow-hidden ${!a&&"hidden"}`,children:t("ul",{className:"mt-4 mb-5.5 flex flex-col gap-2.5 pl-6"})})]})})]})})})})]})},Ar=()=>t("div",{className:"flex h-screen items-center justify-center p-4",children:r("div",{className:"text-center",children:[t("h1",{className:"mb-4 text-4xl font-bold text-primary dark:text-white",children:"404 Error"}),t("h2",{className:"mb-8 text-xl font-semibold text-black dark:text-white",children:"Sorry, this page is not available!"}),t(l,{to:"/",children:t(ha,{children:"Back to Home"})})]})}),Rr=({children:e,allowedRoles:a})=>{var r,l;const{state:s}=Ma(),n=R(),i=null==(l=null==(r=null==s?void 0:s.user)?void 0:r.role)?void 0:l.toLowerCase();if(d.useEffect((()=>{console.log("Protected Route State:",{user:null==s?void 0:s.user,userRole:i,allowedRoles:a,currentPath:n.pathname})}),[null==s?void 0:s.user,i,a,n]),!(null==s?void 0:s.user))return console.log("No user found, redirecting to login"),t(I,{to:"/",replace:!0,state:{from:n}});if(!a.includes(i)){console.log("Unauthorized access, redirecting to appropriate dashboard");return t(I,{to:"user"===i?"/pegawai/dashboard":"/",replace:!0,state:{from:n}})}return e},Lr=()=>{var e,a;const{dispatch:l,state:s}=Ma(),n=d.useCallback((()=>{(async e=>{try{const a=await Va("/api/dashboard/stats"),{totalUsers:r,totalAdmins:t,totalLoans:l,totalExpenses:d,totalAvailableFunds:s,recentLoans:n,recentTransactions:i,monthlyExpenses:o,monthlyIncome:c}=a.data,m=n.map((e=>{var a;return{...e,customerName:(null==(a=e.user)?void 0:a.username)||e.customer_name}})),p=i.map((e=>{var a;return{...e,customerName:(null==(a=e.customer)?void 0:a.username)||"Unknown"}}));e({type:fa,payload:{totalCustomers:r,totalAdmins:t,activeLoans:l,totalExpenses:d,totalAvailableFunds:s,recentLoans:m,recentTransactions:p,monthlyExpenses:o,monthlyIncome:c}})}catch(a){console.error("Error fetching dashboard stats:",a),e({type:ga,payload:"Failed to fetch dashboard statistics"})}})(l)}),[l]);return d.useEffect((()=>{n();const e=setInterval(n,3e5);return()=>clearInterval(e)}),[n]),r(kr,{children:[t(ma,{pageName:"Dashboard"}),r("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6 xl:grid-cols-5 2xl:gap-7.5",children:[t(Ia,{}),t(Fa,{}),t(Oa,{}),t(Ua,{}),t(za,{})]}),r("div",{className:"mt-4 grid grid-cols-12 gap-6 md:mt-6 md:gap-6 2xl:mt-7.5 2xl:gap-7.5",children:[t("div",{className:"col-span-12 sm:col-span-7",children:t($a,{monthlyExpenses:(null==(e=s.dashboard)?void 0:e.monthlyExpenses)||[],monthlyIncome:(null==(a=s.dashboard)?void 0:a.monthlyIncome)||[]})}),t("div",{className:"col-span-12 sm:col-span-5",children:t(Ga,{})})]})]})},Pr=()=>r(kr,{children:[t(ma,{pageName:"Employee Attendance Report "}),t("div",{className:"sm:grid-cols-2",children:t("div",{className:"flex flex-col gap-9",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:t("h3",{className:"font-medium text-black dark:text-white",children:"Employee Attendance Report  Filter"})}),t("form",{action:"#",children:r("div",{className:"p-6.5",children:[r("div",{className:"mb-4.5 ",children:[r("div",{className:"w-full mb-4",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Month ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[r("select",{className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:[t("option",{value:"",children:"Select Month"}),t("option",{value:"",children:"January"}),t("option",{value:"",children:"February"}),t("option",{value:"",children:"March"}),t("option",{value:"",children:"April"}),t("option",{value:"",children:"May"}),t("option",{value:"",children:"June"}),t("option",{value:"",children:"July"}),t("option",{value:"",children:"August"}),t("option",{value:"",children:"September"}),t("option",{value:"",children:"October"}),t("option",{value:"",children:"November"}),t("option",{value:"",children:"December"})]}),t("span",{className:"absolute top-1/2 right-4 z-30 -translate-y-1/2 text-2xl",children:t(j,{})})]})]}),r("div",{className:"w-full mb-4",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Year ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[r("select",{className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:[t("option",{value:"",children:"Select Year"}),t("option",{value:"",children:"2020"}),t("option",{value:"",children:"2021"}),t("option",{value:"",children:"2022"}),t("option",{value:"",children:"2023"}),t("option",{value:"",children:"2024"}),t("option",{value:"",children:"2025"}),t("option",{value:"",children:"2026"}),t("option",{value:"",children:"2027"})]}),t("span",{className:"absolute top-1/2 right-4 z-30 -translate-y-1/2 text-2xl",children:t(j,{})})]})]})]}),t("div",{className:"flex flex-col md:flex-row w-full gap-3 text-center",children:t(l,{to:"",children:r(ha,{children:[t("span",{children:"Print Attendance Report"}),t("span",{children:t(F,{})})]})})})]})})]})})})]}),Dr=()=>r(kr,{children:[t(ma,{pageName:"Employee Salary Report"}),t("div",{className:"sm:grid-cols-2",children:t("div",{className:"flex flex-col gap-9",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:t("h3",{className:"font-medium text-black dark:text-white",children:"Filter Employee Salary Report"})}),t("form",{action:"#",children:r("div",{className:"p-6.5",children:[r("div",{className:"mb-4.5 ",children:[r("div",{className:"w-full mb-4",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Month ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[r("select",{className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:[t("option",{value:"",children:"Select Month"}),t("option",{value:"",children:"January"}),t("option",{value:"",children:"February"}),t("option",{value:"",children:"March"}),t("option",{value:"",children:"April"}),t("option",{value:"",children:"May"}),t("option",{value:"",children:"June"}),t("option",{value:"",children:"July"}),t("option",{value:"",children:"August"}),t("option",{value:"",children:"September"}),t("option",{value:"",children:"October"}),t("option",{value:"",children:"November"}),t("option",{value:"",children:"December"})]}),t("span",{className:"absolute top-1/2 right-4 z-30 -translate-y-1/2 text-2xl",children:t(j,{})})]})]}),r("div",{className:"w-full mb-4",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Year ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[r("select",{className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:[t("option",{value:"",children:"Select Year"}),t("option",{value:"",children:"2020"}),t("option",{value:"",children:"2021"}),t("option",{value:"",children:"2022"}),t("option",{value:"",children:"2023"}),t("option",{value:"",children:"2024"}),t("option",{value:"",children:"2025"}),t("option",{value:"",children:"2026"}),t("option",{value:"",children:"2027"})]}),t("span",{className:"absolute top-1/2 right-4 z-30 -translate-y-1/2 text-2xl",children:t(j,{})})]})]})]}),t("div",{className:"flex flex-col md:flex-row w-full gap-3 text-center",children:t(l,{to:"",children:r(ha,{children:[t("span",{children:"Print Salary Report "}),t("span",{children:t(F,{})})]})})})]})})]})})})]}),_r=()=>r(kr,{children:[t(ma,{pageName:"Employee  Salary Slip"}),t("div",{className:"sm:grid-cols-2",children:t("div",{className:"flex flex-col gap-9",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:t("h3",{className:"font-medium text-black dark:text-white",children:"Filter Smployee  Salary Slip"})}),t("form",{action:"#",children:r("div",{className:"p-6.5",children:[r("div",{className:"mb-4.5 ",children:[r("div",{className:"w-full mb-4",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Month ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[r("select",{className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:[t("option",{value:"",children:"Select Month"}),t("option",{value:"",children:"January"}),t("option",{value:"",children:"February"}),t("option",{value:"",children:"March"}),t("option",{value:"",children:"April"}),t("option",{value:"",children:"May"}),t("option",{value:"",children:"June"}),t("option",{value:"",children:"July"}),t("option",{value:"",children:"August"}),t("option",{value:"",children:"September"}),t("option",{value:"",children:"October"}),t("option",{value:"",children:"November"}),t("option",{value:"",children:"December"})]}),t("span",{className:"absolute top-1/2 right-4 z-30 -translate-y-1/2 text-2xl",children:t(j,{})})]})]}),r("div",{className:"w-full mb-4",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Year ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[r("select",{className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:[t("option",{value:"",children:"Select Year"}),t("option",{value:"",children:"2020"}),t("option",{value:"",children:"2021"}),t("option",{value:"",children:"2022"}),t("option",{value:"",children:"2023"}),t("option",{value:"",children:"2024"}),t("option",{value:"",children:"2025"}),t("option",{value:"",children:"2026"}),t("option",{value:"",children:"2027"})]}),t("span",{className:"absolute top-1/2 right-4 z-30 -translate-y-1/2 text-2xl",children:t(j,{})})]})]}),r("div",{className:"w-full mb-4",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Employee Name ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[r("select",{className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:[t("option",{value:"",children:"Select Employee"}),t("option",{value:"",children:"Gilbert Hutapea"}),t("option",{value:"",children:"Aldi Ramdani"}),t("option",{value:"",children:"Dadang Darsono"})]}),t("span",{className:"absolute top-1/2 right-4 z-30 -translate-y-1/2 text-2xl",children:t(j,{})})]})]})]}),t("div",{className:"flex flex-col md:flex-row w-full gap-3 text-center",children:t(l,{to:"",children:r(ha,{children:[t("span",{children:"Print Salary Slip "}),t("span",{children:t(F,{})})]})})})]})})]})})})]}),Tr=({onLoginClick:e})=>{const[a,s]=d.useState(!1);return r(O,{children:[t("nav",{className:"bg-gradient-to-r from-white to-primary text-white shadow-lg",children:r("div",{className:"container mx-auto px-0",children:[r("div",{className:"flex justify-between items-center h-20",children:[t("div",{className:"flex-shrink-0 ml-0",children:t(l,{to:"/",className:"flex items-center",children:t("img",{src:"/assets/logo-dark-BXdVlULa.png",alt:"Logo",className:"h-20"})})}),t("div",{className:"hidden md:flex items-center justify-end flex-1 space-x-6 ml-32",children:[{to:"/",label:"Home"},{to:"/gallery",label:"Gallery"},{to:"/project-documents",label:"Project Documents"},{to:"/why-choose-us",label:"Why Choose Us"},{to:"/contact",label:"Contact Us"}].map((e=>t(Mr,{to:e.to,children:e.label},e.to)))}),t("div",{className:"md:hidden",children:t("button",{onClick:()=>s(!a),className:"p-2 rounded-lg text-gray-600 hover:text-primary hover:bg-blue-50 dark:text-gray-200 dark:hover:bg-boxdark-2 transition-all duration-300",children:t("svg",{className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:a?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})})]}),t("div",{className:`md:hidden transition-all duration-300 ease-in-out ${a?"max-h-96 opacity-100":"max-h-0 opacity-0"} overflow-hidden`,children:t("div",{className:"py-3 space-y-2",children:[{to:"/",label:"Home"},{to:"/gallery",label:"Gallery"},{to:"/project-documents",label:"Project Documents"},{to:"/why-choose-us",label:"Why Choose Us"},{to:"/contact",label:"Contact Us"}].map((e=>t(l,{to:e.to,className:"block px-4 py-2.5 text-base font-medium text-gray-700 dark:text-gray-200 \n                  hover:bg-blue-50 hover:text-primary dark:hover:bg-boxdark-2 rounded-lg\n                  transition-all duration-300",onClick:()=>s(!1),children:e.label},e.to)))})})]})}),r("button",{onClick:()=>{window.open(`https://wa.me/+919900220446?text=${encodeURIComponent("Hi, I would like to know more about your projects.")}`,"_blank")},className:"fixed right-6 bottom-6 z-[9999] flex items-center justify-center w-14 h-14 \n        bg-[#25D366] rounded-full shadow-lg hover:bg-[#20BA56] \n        transition-all duration-300 hover:scale-110 \n        animate-bounce-slow group hover:shadow-xl hover:shadow-green-500/20",children:[t(U,{className:"text-white text-3xl group-hover:scale-110 transition-transform duration-300"}),r("span",{className:"absolute right-full mr-3 px-3 py-2 bg-white text-gray-700 \n        text-sm font-medium rounded-lg shadow-lg whitespace-nowrap \n        opacity-0 group-hover:opacity-100 transition-opacity duration-300\n        border border-gray-100",children:["Chat with us on WhatsApp",t("span",{className:"absolute top-1/2 -right-2 -translate-y-1/2 \n          border-6 border-transparent border-l-white"})]})]})]})},Mr=({to:e,children:a})=>r(l,{to:e,className:"relative px-5 py-2.5 text-base font-medium text-gray-700 dark:text-gray-200 rounded-lg \n    hover:text-primary hover:bg-blue-50/80 dark:hover:bg-boxdark-2 \n    transition-all duration-300 group overflow-hidden tracking-wide",children:[t("span",{className:"absolute inset-0 w-0 bg-blue-50 dark:bg-boxdark-2 transition-all duration-300 ease-out group-hover:w-full -z-10"}),t("span",{className:"relative",children:a}),t("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"})]}),Ir=d.createContext(),Fr=({children:e})=>{const{dispatch:a}=Ma(),[r,l]=d.useState(!1),[s,n]=d.useState(""),[i,o]=d.useState(""),[c,m]=d.useState("");return t(Ir.Provider,{value:{isLoginModalOpen:r,username:s,password:i,error:c,setUsername:n,setPassword:o,handleLoginSubmit:async e=>{var r,t,d;e.preventDefault();try{const e=await mr(a,{username:s,password:i});if(!e)throw new Error("No user data received");l(!1),n(""),o(""),m("");const t=null==(r=e.role)?void 0:r.toLowerCase();"admin"===t?window.location.href="/admin/dashboard":"user"===t?window.location.href="/pegawai/dashboard":m("Invalid user role")}catch(c){m((null==(d=null==(t=c.response)?void 0:t.data)?void 0:d.msg)||c.message||"Login failed")}},openLoginModal:()=>l(!0),closeLoginModal:()=>{l(!1),n(""),o(""),m("")}},children:e})},Or=()=>{const e=d.useContext(Ir);if(!e)throw new Error("useLoginModal must be used within a LoginModalProvider");return e},Ur=({isOpen:e,onClose:a,onSubmit:l,error:d,username:s,password:n,setUsername:i,setPassword:o})=>e?t("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:r("div",{className:"bg-white dark:bg-boxdark rounded-lg w-full max-w-md p-5 relative",children:[t("button",{onClick:a,className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 \n          transition-colors duration-200",children:t(z,{className:"text-xl"})}),t("div",{className:"text-center mb-4",children:t("h2",{className:"text-xl font-bold text-black dark:text-white \n           from-primary/5 to-blue-500/5 \n          py-2 ",children:"Login to Admin"})}),r("form",{onSubmit:l,className:"space-y-4",children:[r("div",{className:"",children:[t("label",{className:"mb-1.5 block font-medium text-sm text-black dark:text-white",children:"Username"}),r("div",{className:"relative",children:[t("input",{onChange:e=>i(e.target.value),value:s,type:"text",placeholder:"Enter your username",className:"w-full rounded-lg border border-stroke bg-transparent py-2.5 pl-4 pr-8 text-sm outline-none \n                focus:border-primary focus-visible:shadow-none dark:border-form-strokedark dark:bg-form-input \n                dark:focus:border-primary transition-colors duration-200"}),t($,{className:"absolute right-3 top-2.5 text-lg text-gray-500"})]})]}),r("div",{className:"",children:[t("label",{className:"mb-1.5 block font-medium text-sm text-black dark:text-white",children:"Password"}),r("div",{className:"relative",children:[t("input",{onChange:e=>o(e.target.value),value:n,type:"password",placeholder:"Enter your password",className:"w-full rounded-lg border border-stroke bg-transparent py-2.5 pl-4 pr-8 text-sm outline-none \n                focus:border-primary focus-visible:shadow-none dark:border-form-strokedark dark:bg-form-input \n                dark:focus:border-primary transition-colors duration-200"}),t(G,{className:"absolute right-3 top-2.5 text-lg text-gray-500"})]})]}),t("button",{type:"submit",className:"w-full cursor-pointer rounded-lg border border-primary bg-primary py-2.5 text-sm font-medium \n            text-white transition-all duration-200 hover:bg-opacity-90 hover:shadow-lg hover:shadow-primary/25",children:"Login"}),d&&r("div",{className:"rounded-md bg-red-50 p-2.5 text-xs text-red-500 dark:bg-red-100 flex items-center",children:[t("svg",{className:"mr-2 h-3 w-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),t("span",{className:"flex-1",children:d})]})]})]})}):null,zr=()=>{const{isLoginModalOpen:e,username:a,password:r,error:l,setUsername:d,setPassword:s,handleLoginSubmit:n,closeLoginModal:i}=Or();return t(Ur,{isOpen:e,onClose:i,onSubmit:n,error:l,username:a,password:r,setUsername:d,setPassword:s})},$r=({children:e})=>{const{openLoginModal:a}=Or();return r("div",{className:"min-h-screen bg-white dark:bg-boxdark flex flex-col",children:[t(Tr,{onLoginClick:a}),t(zr,{}),t("div",{className:"flex-grow",children:e}),t(xr,{})]})},Gr=({icon:e,title:a,description:l,isLast:d})=>r("div",{className:"flex flex-col items-center flex-1 relative",children:[t("div",{className:"relative z-10",children:t("div",{className:"bg-primary p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto",children:t(e,{className:"text-white text-2xl"})})}),!d&&t("div",{className:"absolute top-8 left-[60%] w-full h-0.5 bg-primary"}),r("div",{className:"text-center mt-4 px-4",children:[t("h3",{className:"font-semibold text-black dark:text-white text-lg mb-2",children:a}),t("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:l})]})]}),Br=()=>{const e=[{icon:B,title:"Registration",description:"Complete the initial registration process and verify your details"},{icon:q,title:"Agreement",description:"Review and sign the purchase agreement with all terms and conditions"},{icon:J,title:"Downpayment",description:"Make the initial downpayment to secure your land purchase"},{icon:V,title:"EMI Process",description:"Set up and manage your EMI payments through our easy payment system"},{icon:H,title:"Land Registration",description:"Complete the legal registration process and documentation"},{icon:W,title:"Site Delivery",description:"Receive your property documents and take possession of your land"}];return r("div",{className:"w-full p-6 bg-white dark:bg-boxdark rounded-xl shadow-sm border border-stroke dark:border-strokedark overflow-x-auto",children:[t("h2",{className:"text-2xl font-bold text-black dark:text-white mb-12 text-center",children:"Land Purchase Process"}),t("div",{className:"flex min-w-[900px] px-4",children:e.map(((a,r)=>t(Gr,{...a,isLast:r===e.length-1},r)))})]})},qr=()=>r("div",{className:"py-12 bg-gradient-to-br from-white via-blue-50 to-white dark:from-boxdark dark:via-boxdark-2 dark:to-boxdark",children:[r("div",{className:"container mx-auto px-4",children:[r("div",{className:"text-center mb-12",children:[t("h2",{className:"text-3xl font-bold text-black dark:text-white mb-4",children:"Client Success Stories"}),t("p",{className:"text-gray-500 dark:text-gray-400 max-w-2xl mx-auto",children:"Discover how we've helped our clients achieve their property dreams with our comprehensive solutions and dedicated support."})]}),t(Y,{modules:[Z,K],spaceBetween:30,slidesPerView:1,pagination:{clickable:!0},autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:{640:{slidesPerView:1},768:{slidesPerView:2},1024:{slidesPerView:3}},className:"testimonial-swiper",children:[{name:"Dada Khalander",role:"Software Engineer",content:"The entire process from agreement to construction has been transparent and professional. The team's attention to detail and regular updates gave us complete peace of mind.",rating:5,projectStatus:{agreement:"Completed",payment:"40% Processed",construction:"50% Complete",timeline:"On Schedule"}},{name:"Mohammad Rafee",role:"First-time Buyer",content:"As a first-time property buyer, I was impressed with their professional approach. The team guided me through each step, making it seamless and stress-free.",rating:5,projectStatus:{agreement:"Completed",payment:"30% Processed",construction:"35% Complete",timeline:"On Schedule"}},{name:"Suresh Kumar",role:"Investment Buyer",content:"The quality of construction and adherence to timelines has been impressive. Their property management solutions are truly world-class.",rating:5,projectStatus:{agreement:"Completed",payment:"60% Processed",construction:"75% Complete",timeline:"Ahead of Schedule"}},{name:"Venkatesh Reddy",role:"Property Owner",content:"Exceptional service and quality construction. The team's commitment to excellence and timely delivery has exceeded my expectations.",rating:5,projectStatus:{agreement:"Completed",payment:"45% Processed",construction:"55% Complete",timeline:"On Schedule"}},{name:"Abdul Rahman",role:"Business Owner",content:"Their attention to detail and customer service is outstanding. The construction quality and project management are top-notch.",rating:5,projectStatus:{agreement:"Completed",payment:"70% Processed",construction:"80% Complete",timeline:"On Schedule"}},{name:"Ramesh Babu",role:"Property Investor",content:"Very satisfied with the project progress and professional approach. The team's communication and transparency are commendable.",rating:5,projectStatus:{agreement:"Completed",payment:"50% Processed",construction:"60% Complete",timeline:"On Schedule"}}].map(((e,a)=>t(X,{children:t("div",{className:"bg-white dark:bg-boxdark rounded-xl shadow-default p-6 mb-10 transform hover:scale-105 transition-all duration-300",children:r("div",{className:"relative",children:[t("div",{className:"absolute -top-10 -left-2",children:t(Q,{className:"text-4xl text-primary/20"})}),r("div",{className:"flex items-center mb-6",children:[t("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:t(ee,{className:"text-3xl text-primary"})}),r("div",{className:"ml-4",children:[t("h4",{className:"text-lg font-semibold text-black dark:text-white",children:e.name}),t("p",{className:"text-gray-500 dark:text-gray-400",children:e.role}),t("div",{className:"flex mt-1",children:[...Array(e.rating)].map(((e,a)=>t(ae,{className:"text-yellow-400 text-sm"},a)))})]})]}),r("p",{className:"text-gray-600 dark:text-gray-300 mb-6 min-h-[80px]",children:['"',e.content,'"']}),r("div",{className:"border-t border-stroke dark:border-strokedark pt-4",children:[t("h5",{className:"text-sm font-semibold text-black dark:text-white mb-3",children:"Project Status"}),r("div",{className:"grid grid-cols-2 gap-3",children:[r("div",{className:"flex items-center",children:[t(re,{className:"text-primary mr-2"}),r("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Agreement: ",e.projectStatus.agreement]})]}),r("div",{className:"flex items-center",children:[t(te,{className:"text-primary mr-2"}),r("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Payment: ",e.projectStatus.payment]})]}),r("div",{className:"flex items-center",children:[t(le,{className:"text-primary mr-2"}),r("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Construction: ",e.projectStatus.construction]})]}),r("div",{className:"flex items-center",children:[t(de,{className:"text-primary mr-2"}),r("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Timeline: ",e.projectStatus.timeline]})]})]})]})]})})},a)))})]}),t("style",{jsx:!0,children:"\n                .testimonial-swiper .swiper-pagination {\n                    position: relative;\n                    margin-top: 2rem;\n                }\n                .testimonial-swiper .swiper-pagination-bullet {\n                    width: 10px;\n                    height: 10px;\n                    background: #e2e8f0;\n                    opacity: 1;\n                }\n                .testimonial-swiper .swiper-pagination-bullet-active {\n                    background: var(--color-primary);\n                    transform: scale(1.2);\n                }\n            "})]}),Jr=()=>{const{dispatch:e}=Ma(),a=k(),[l,s]=d.useState(!1),[n,o]=d.useState({username:"",password:""}),c=e=>{const{name:a,value:r}=e.target;o((e=>({...e,[a]:r})))},m=[{icon:t(i,{className:"text-2xl"}),title:"User Management",description:"Seamlessly manage user profiles and access controls with our intuitive interface."},{icon:t(ie,{className:"text-2xl"}),title:"Financial Tracking",description:"Monitor transactions, generate reports, and maintain complete financial transparency."},{icon:t(oe,{className:"text-2xl"}),title:"Real-time Analytics",description:"Access comprehensive analytics and insights to make data-driven decisions."},{icon:t(ce,{className:"text-2xl"}),title:"Secure Access",description:"Enterprise-grade security ensuring your data remains protected at all times."}];return t($r,{children:r("div",{className:"min-h-screen bg-white dark:bg-boxdark",children:[t("div",{className:"container mx-auto px-4 py-8 lg:py-12",children:r("div",{className:"max-w-7xl mx-auto",children:[r("div",{className:"text-center mb-12",children:[t("h1",{className:"text-4xl lg:text-5xl font-bold text-black dark:text-white mb-4",children:"Welcome to Raghav Elite Projects"}),t("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Access your personalized dashboard to manage all your activities in one secure place"})]}),r("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 items-start",children:[t("div",{className:"order-2 lg:order-1",children:t("div",{className:"grid sm:grid-cols-2 gap-6",children:m.map(((e,a)=>t("div",{className:"bg-white dark:bg-boxdark rounded-xl \n                                                shadow-lg hover:shadow-xl p-6 \n                                                transform hover:scale-105 transition-transform duration-300\n                                                border-2 border-stroke dark:border-strokedark\n                                                relative overflow-hidden",children:r("div",{className:"relative z-10",children:[t("div",{className:"w-14 h-14 rounded-lg bg-primary flex items-center justify-center mb-4",children:t("div",{className:"text-white",children:e.icon})}),t("h4",{className:"text-lg font-semibold text-black dark:text-white mb-3",children:e.title}),t("p",{className:"text-gray-600 dark:text-gray-400",children:e.description})]})},a)))})}),t("div",{className:"order-1 lg:order-2",children:t("div",{className:"max-w-md mx-auto",children:t("div",{className:"bg-white dark:bg-boxdark rounded-xl \n                                        shadow-2xl hover:shadow-3xl p-8 lg:p-10\n                                        border-2 border-stroke dark:border-strokedark \n                                        transition-transform transition-shadow duration-300",children:r("form",{onSubmit:async r=>{var t,l,d;r.preventDefault(),s(!0);const i=E.loading("Signing in...");try{const r=await mr(e,{username:n.username,password:n.password});if(!r)throw new Error("No user data received");const l=null==(t=r.role)?void 0:t.toLowerCase();localStorage.setItem("role",l),E.success("Login successful!",{id:i}),a("admin"===l?"/admin/dashboard":"/pegawai/dashboard")}catch(o){console.error("Login error:",o),E.error((null==(d=null==(l=o.response)?void 0:l.data)?void 0:d.message)||"Login failed",{id:i})}finally{s(!1)}},className:"space-y-6",children:[r("div",{className:"text-center mb-8",children:[t("h3",{className:"text-3xl font-bold text-black dark:text-white mb-3",children:"Sign In"}),t("p",{className:"text-gray-600 dark:text-gray-400",children:"Enter your credentials to access your account"})]}),r("div",{className:"space-y-4",children:[r("div",{children:[t("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),r("div",{className:"relative group",children:[t("input",{type:"text",name:"username",value:n.username,onChange:c,placeholder:"Enter your username",className:"w-full rounded-lg border-2 border-stroke bg-white py-4 pl-12 pr-6 \n                                                            outline-none focus:border-primary hover:border-primary\n                                                            dark:border-strokedark dark:bg-boxdark dark:hover:border-primary\n                                                            text-black dark:text-white transition-all duration-300",required:!0}),t("span",{className:"absolute left-4 top-4 text-gray-500 dark:text-gray-400\n                                                            group-hover:text-primary transition-all duration-300",children:t(se,{className:"text-xl"})})]})]}),r("div",{children:[t("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),r("div",{className:"relative group",children:[t("input",{type:"password",name:"password",value:n.password,onChange:c,placeholder:"Enter your password",className:"w-full rounded-lg border-2 border-stroke bg-white py-4 pl-12 pr-6 \n                                                            outline-none focus:border-primary hover:border-primary\n                                                            dark:border-strokedark dark:bg-boxdark dark:hover:border-primary\n                                                            text-black dark:text-white transition-all duration-300",required:!0}),t("span",{className:"absolute left-4 top-4 text-gray-500 dark:text-gray-400\n                                                            group-hover:text-primary transition-all duration-300",children:t(ne,{className:"text-xl"})})]})]})]}),t("div",{children:t("button",{type:"submit",disabled:l,className:"w-full rounded-lg bg-primary p-4 \n                                                    text-white font-medium transition-all duration-300 \n                                                    hover:bg-opacity-90 hover:shadow-lg hover:scale-[1.02]\n                                                    disabled:opacity-70 disabled:cursor-not-allowed",children:l?"Signing in...":"Sign In"})})]})})})})]})]})}),t("div",{className:"bg-white dark:bg-boxdark",children:t("div",{className:"container mx-auto px-4 py-16",children:r("div",{className:"max-w-7xl mx-auto space-y-16",children:[t("div",{className:"bg-white dark:bg-boxdark rounded-xl shadow-xl p-8\n                                border-2 border-stroke dark:border-strokedark transition-transform transition-shadow duration-300",children:t(Br,{})}),t("div",{className:"bg-white dark:bg-boxdark rounded-xl shadow-xl p-8\n                                border-2 border-stroke dark:border-strokedark transition-transform transition-shadow duration-300",children:t(qr,{})})]})})})]})})};let Vr=!1;const Hr=()=>{var e,a;const{state:s,dispatch:n}=Ma(),i=(null==(e=s.loans)?void 0:e.list)||[],o=(null==(a=s.loans)?void 0:a.loading)||!1,c=k(),[m,p]=d.useState(1),[h,u]=d.useState(""),[b,x]=d.useState(""),[g,f]=d.useState(!1),[y,v]=d.useState(null),N=5*(m-1),w=N+5,C=d.useCallback((async()=>{var e,a;try{await(async e=>{var a,r;if(!Vr)try{Vr=!0,e({type:Ea,payload:!0});const a=await Va(lr);e({type:Sa,payload:a.data}),E.success("Purchase fetched successfully")}catch(t){console.error("Error fetching purchase:",t),e({type:ja,payload:(null==(r=null==(a=t.response)?void 0:a.data)?void 0:r.message)||"Failed to fetch purchase"}),E.error("Failed to fetch purchase")}finally{Vr=!1,e({type:Ea,payload:!1})}})(n)}catch(r){const t=(null==(a=null==(e=r.response)?void 0:e.data)?void 0:a.message)||"Failed to fetch loans";E.error(t)}}),[n]);d.useEffect((()=>{C()}),[C]);const S=i.filter((e=>{var a,r;const t=null==(a=e.customer_name)?void 0:a.toLowerCase().includes(h.toLowerCase()),l=!b||(null==(r=e.status)?void 0:r.toLowerCase())===b.toLowerCase();return t&&l})),j=Math.ceil(S.length/5),A=S.slice(N,w);return o?t(kr,{children:t("div",{className:"flex items-center justify-center min-h-screen",children:t("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):r(kr,{children:[t(ma,{pageName:"Purchase Details"}),t(l,{to:"/admin/master-data/lending/add-lending",children:r(ha,{children:[t("span",{children:"Add Purchase"}),t("span",{children:t(me,{})})]})}),r("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1 mt-6",children:[r("div",{className:"flex justify-between items-center mt-4 flex-col md:flex-row md:justify-between",children:[r("div",{className:"relative flex-1 md:mr-2 mb-4 md:mb-0 ",children:[t("input",{type:"text",value:h,onChange:e=>u(e.target.value),placeholder:"Search by customer name...",className:"rounded-lg border-[1.5px] border-stroke bg-transparent py-2 pl-10 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary left-0"}),t("span",{className:"absolute left-2 py-3 text-xl",children:t(pe,{})})]}),t("div",{className:"relative flex-2 mb-4 md:mb-0",children:r("select",{value:b,onChange:e=>x(e.target.value),className:"rounded-lg border-[1.5px] border-stroke bg-transparent py-2 px-4 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary w-full",children:[t("option",{value:"",children:"All Status"}),t("option",{value:"active",children:"Active"}),t("option",{value:"completed",children:"Completed"})]})})]}),t("div",{className:"max-w-full overflow-x-auto py-4",children:r("table",{className:"w-full table-auto",children:[t("thead",{children:r("tr",{className:"bg-gray-2 text-left dark:bg-meta-4",children:[t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Customer Name"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Purchase Amount"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Advance Paid"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Balance Remaining"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Paid Amount"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Status"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Actions"})]})}),t("tbody",{children:0===A.length?t("tr",{children:t("td",{colSpan:"7",className:"text-center py-8",children:r("div",{className:"flex flex-col items-center justify-center",children:[t("p",{className:"text-lg text-gray-500 dark:text-gray-400 mb-2",children:"No purchase records found"}),t("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:h||b?"Try adjusting your search criteria or status filter.":"Get started by adding your first purchase record."}),r(l,{to:"/admin/master-data/lending/add-lending",className:"mt-4 inline-flex items-center text-primary hover:underline",children:[t(me,{className:"mr-2"}),"Add New Purchase"]})]})})}):A.map((e=>r("tr",{children:[t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.customer_name})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:r("p",{className:"text-black dark:text-white",children:["â‚¹",Number(e.loan_amount).toFixed(2)]})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:r("p",{className:"text-black dark:text-white",children:["â‚¹",Number(e.advance_amount).toFixed(2)]})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:r("p",{className:"text-black dark:text-white",children:["â‚¹",Number(e.remaining_balance).toFixed(2)]})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:r("p",{className:"text-black dark:text-white",children:["â‚¹",Number(e.loan_amount-e.remaining_balance).toFixed(2)]})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("span",{className:"inline-block px-3 py-1 rounded-full "+("active"===e.status.toLowerCase()?"text-success bg-success/10":"text-danger bg-danger/10"),children:e.status})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:r("div",{className:"flex items-center space-x-3.5",children:[t("button",{onClick:()=>c(`/admin/master-data/lending/edit/${e.loan_id}`),className:"hover:text-black",children:t(he,{className:"text-primary text-xl hover:text-black dark:hover:text-white"})}),t("button",{onClick:()=>(async e=>{v(e),f(!0)})(e.loan_id),className:"hover:text-black",children:t(ue,{className:"text-danger text-xl hover:text-black dark:hover:text-white"})}),t("button",{onClick:()=>c(`/admin/lending/${e.loan_id}`),className:"hover:text-black",children:t(be,{className:"text-success text-xl hover:text-black dark:hover:text-white"})})]})})]},e.loan_id)))})]})}),r("div",{className:"flex justify-between items-center mt-4 flex-col md:flex-row md:justify-between",children:[t("div",{className:"flex items-center space-x-2",children:t("span",{className:"text-gray-5 dark:text-gray-4 text-sm py-4",children:A.length>0?`Showing ${N+1}-${Math.min(w,S.length)} of ${S.length} Purchases`:"No purchase records to display"})}),A.length>0&&r("div",{className:"flex space-x-2 py-4",children:[t("button",{disabled:1===m,onClick:()=>{m>1&&p((e=>e-1))},className:"py-2 px-6 rounded-lg border border-primary text-primary font-semibold hover:bg-primary hover:text-white dark:text-white dark:border-primary dark:hover:bg-primary dark:hover:text-white disabled:opacity-50",children:"Prev"}),[...Array(Math.min(j,5))].map(((e,a)=>{const r=a+1;return r===m?t("div",{className:"py-2 px-4 rounded-lg border border-primary bg-primary text-white font-semibold hover:bg-primary dark:text-white dark:bg-primary dark:hover:bg-primary",children:r},a):2===r&&m>4||r===j-1&&m<j-3?t("p",{className:"py-2 px-4 border border-gray-2 dark:bg-transparent text-black font-medium bg-gray dark:border-strokedark dark:text-white",children:"..."},a):1===r||r===j||r>=m-1&&r<=m+1?t("div",{className:"py-2 px-4 rounded-lg border border-gray-2 text-black dark:bg-transparent bg-gray font-medium dark:border-strokedark dark:text-white",children:r},a):null})),t("button",{disabled:m===j,onClick:()=>{m<j&&p((e=>e+1))},className:"py-2 px-6 rounded-lg border border-primary text-primary font-semibold hover:bg-primary hover:text-white dark:text-white dark:border-primary dark:hover:bg-primary dark:hover:text-white disabled:opacity-50",children:"Next"})]})]})]}),g&&t("div",{className:"fixed inset-0 z-999999 flex items-center justify-center bg-black bg-opacity-50",children:t("div",{className:"rounded-sm border border-stroke bg-white p-8 shadow-default dark:border-strokedark dark:bg-boxdark max-w-lg w-full mx-4",children:r("div",{className:"flex flex-col items-center text-center",children:[t("div",{className:"w-12 h-12 rounded-full bg-danger/20 flex items-center justify-center mb-4",children:t(ue,{className:"text-danger text-xl"})}),t("h2",{className:"mb-3 text-xl font-semibold text-black dark:text-white",children:"Delete Purchase Record"}),t("p",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400",children:"Are you sure you want to delete this purchase record? This action cannot be undone and will remove all associated transaction history."}),r("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:justify-center",children:[t("button",{onClick:()=>f(!1),className:"rounded-lg border border-stroke py-2 px-6 text-black hover:shadow-1 dark:border-strokedark dark:text-white w-full sm:w-auto",children:"Cancel"}),t("button",{onClick:async()=>{var e,a;try{const e=await(async(e,a)=>{var r,t,l,d;const s=E.loading("Deleting loan...");try{await Ya(ir(a)),e({type:Aa,payload:a}),E.success("Loan deleted successfully",{id:s})}catch(n){e({type:ja,payload:(null==(t=null==(r=n.response)?void 0:r.data)?void 0:t.msg)||"Failed to delete Purchase"}),E.error((null==(d=null==(l=n.response)?void 0:l.data)?void 0:d.msg)||"Failed to delete purchase",{id:s})}})(n,y);200===(null==e?void 0:e.status)&&E.success("Purchase deleted successfully")}catch(r){const t=(null==(a=null==(e=r.response)?void 0:e.data)?void 0:a.message)||"Failed to delete purchase";E.error(t)}finally{f(!1),v(null)}},className:"rounded-lg border border-danger bg-danger py-2 px-6 text-white hover:bg-opacity-90 w-full sm:w-auto",children:"Yes, Delete Purchase"})]})]})})})]})};let Wr=!1;const Yr=async(e,a)=>{var r,t,l,d;const s=E.loading("Deleting user...");try{await Ya(tr(a)),e({type:wa,payload:a}),E.success("User deleted successfully",{id:s})}catch(n){e({type:Na,payload:(null==(t=null==(r=n.response)?void 0:r.data)?void 0:t.msg)||"Failed to delete user"}),E.error((null==(d=null==(l=n.response)?void 0:l.data)?void 0:d.msg)||"Failed to delete user",{id:s})}},Zr=()=>{const{state:e,dispatch:a}=Ma(),{users:s,loading:n}=e,[i,o]=d.useState(1),[c,m]=d.useState(""),[p,h]=d.useState(""),[u,b]=d.useState(!1),[x,k]=d.useState(null),g=d.useCallback((async()=>{var e,r;try{await(async e=>{var a,r;if(!Wr)try{Wr=!0,e({type:va,payload:!0});const a=await Va(Qa);e({type:ya,payload:a.data}),E.success("Users fetched successfully")}catch(t){console.error("Error fetching users:",t),e({type:Na,payload:(null==(r=null==(a=t.response)?void 0:a.data)?void 0:r.msg)||"Failed to fetch users"}),E.error("Failed to fetch users")}finally{Wr=!1,e({type:va,payload:!1})}})(a)}catch(t){const a=(null==(r=null==(e=t.response)?void 0:e.data)?void 0:r.message)||"Failed to fetch users";xe.error(a)}}),[a]);d.useEffect((()=>{g()}),[g]);const f=(null==s?void 0:s.filter((e=>{var a,r,t,l;const d=(null==(a=e.username)?void 0:a.toLowerCase().includes(c.toLowerCase()))||(null==(r=e.user_id)?void 0:r.toLowerCase().includes(c.toLowerCase()))||(null==(t=e.email)?void 0:t.toLowerCase().includes(c.toLowerCase())),s=!p||(null==(l=e.status)?void 0:l.toLowerCase())===p.toLowerCase();return d&&s})))||[],y=Math.ceil(f.length/5),v=5*(i-1),N=v+5,w=f.slice(v,N);return n?t(kr,{children:t("div",{className:"flex items-center justify-center min-h-screen",children:t("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):r(kr,{children:[t(ma,{pageName:"Customer Data"}),t(l,{to:"/admin/master-data/data-pegawai/form-data-pegawai",children:r(ha,{children:[t("span",{children:"Add Customer"}),t("span",{children:t(me,{})})]})}),r("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1 mt-6",children:[r("div",{className:"flex justify-between items-center mt-4 flex-col md:flex-row md:justify-between",children:[t("div",{className:"relative flex-1 md:mr-2 mb-4 md:mb-0",children:r("div",{className:"relative w-48",children:[r("select",{value:p,onChange:e=>h(e.target.value),className:"w-full relative appearance-none rounded border border-stroke bg-transparent py-3 pl-4 pr-8 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:[t("option",{value:"",children:"All Status"}),t("option",{value:"active",children:"Active"}),t("option",{value:"inactive",children:"Inactive"})]}),t("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xl pointer-events-none",children:t(j,{})})]})}),r("div",{className:"relative flex-2 mb-4 md:mb-0",children:[t("input",{type:"text",value:c,onChange:e=>m(e.target.value),placeholder:"Search by name, ID or email...",className:"rounded-lg border-[1.5px] border-stroke bg-transparent py-2 pl-10 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary left-0"}),t("span",{className:"absolute left-2 py-3 text-xl",children:t(pe,{})})]})]}),t("div",{className:"max-w-full overflow-x-auto py-4",children:r("table",{className:"w-full table-auto",children:[t("thead",{children:r("tr",{className:"bg-gray-2 text-left dark:bg-meta-4",children:[t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"User ID"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Username"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Email"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Mobile"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Status"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Role"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Actions"})]})}),t("tbody",{children:0===w.length?t("tr",{children:t("td",{colSpan:"7",className:"text-center py-4",children:r("div",{className:"flex flex-col items-center justify-center",children:[t("p",{className:"text-lg text-gray-500 dark:text-gray-400 mb-2",children:"No customers found"}),t("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:c||p?"Try adjusting your search or filter to find what you're looking for.":"Get started by adding your first customer."})]})})}):w.map((e=>r("tr",{children:[t("td",{className:"border-b text-black border-[#eee] py-5 px-4 dark:border-strokedark",children:e.user_id}),t("td",{className:"border-b text-black border-[#eee] py-5 px-4 dark:border-strokedark",children:e.username}),t("td",{className:"border-b text-black border-[#eee] py-5 px-4 dark:border-strokedark",children:e.email}),t("td",{className:"border-b text-black border-[#eee] py-5 px-4 dark:border-strokedark",children:e.mobile_number}),t("td",{className:"border-b text-black border-[#eee] py-5 px-4 dark:border-strokedark",children:e.status}),t("td",{className:"border-b text-black border-[#eee] py-5 px-4 dark:border-strokedark",children:e.role}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:r("div",{className:"flex items-center space-x-3.5",children:[t(l,{to:`/admin/master-data/data-pegawai/edit/${e.user_id}`,children:t(he,{className:"text-primary text-xl hover:text-black dark:hover:text-white"})}),t("button",{onClick:()=>(async e=>{k(e),b(!0)})(e.user_id),children:t(ue,{className:"text-danger text-xl hover:text-black dark:hover:text-white"})})]})})]},e.user_id)))})]})}),r("div",{className:"flex justify-between items-center mt-4 flex-col md:flex-row md:justify-between",children:[t("div",{className:"flex items-center space-x-2",children:t("span",{className:"text-gray-5 dark:text-gray-4 text-sm py-4",children:w.length>0?`Showing ${v+1}-${Math.min(N,f.length)} of ${f.length} Customers`:"No customers to display"})}),w.length>0&&r("div",{className:"flex space-x-2 py-4",children:[t("button",{disabled:1===i,onClick:()=>{i>1&&o((e=>e-1))},className:"py-2 px-6 rounded-lg border border-primary text-primary font-semibold hover:bg-primary hover:text-white dark:text-white dark:border-primary dark:hover:bg-primary dark:hover:text-white disabled:opacity-50",children:"Prev"}),[...Array(Math.min(y,5))].map(((e,a)=>{const r=a+1;return r===i?t("div",{className:"py-2 px-4 rounded-lg border border-primary bg-primary text-white font-semibold hover:bg-primary dark:text-white dark:bg-primary dark:hover:bg-primary",children:r},a):2===r&&i>4||r===y-1&&i<y-3?t("p",{className:"py-2 px-4 border border-gray-2 dark:bg-transparent text-black font-medium bg-gray dark:border-strokedark dark:text-white",children:"..."},a):1===r||r===y||r>=i-1&&r<=i+1?t("div",{className:"py-2 px-4 rounded-lg border border-gray-2 text-black dark:bg-transparent bg-gray font-medium dark:border-strokedark dark:text-white",children:r},a):null})),t("button",{disabled:i===y,onClick:()=>{i<y&&o((e=>e+1))},className:"py-2 px-6 rounded-lg border border-primary text-primary font-semibold hover:bg-primary hover:text-white dark:text-white dark:border-primary dark:hover:bg-primary dark:hover:text-white disabled:opacity-50",children:"Next"})]})]})]}),u&&t("div",{className:"fixed inset-0 z-999999 flex items-center justify-center bg-black bg-opacity-50",children:r("div",{className:"rounded-sm border border-stroke bg-white p-8 shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("h2",{className:"mb-4 text-xl font-semibold text-black dark:text-white",children:"Confirm Delete"}),t("p",{className:"mb-6 text-sm",children:"Are you sure you want to delete this user? This action cannot be undone."}),t("p",{className:"mb-6 text-sm text-warning",children:"Note: Users with active purchases cannot be deleted. Please close or reassign all purchases first."}),r("div",{className:"flex justify-end space-x-4",children:[t("button",{onClick:()=>b(!1),className:"rounded-lg border border-stroke py-2 px-6 text-black hover:shadow-1 dark:border-strokedark dark:text-white",children:"Cancel"}),t("button",{onClick:async()=>{var e,r;try{await Yr(a,x),xe.success("User deleted successfully"),g()}catch(t){const a=(null==(r=null==(e=t.response)?void 0:e.data)?void 0:r.msg)||"Failed to delete user";a.includes("active purchase")?xe.error("Cannot delete user with active purchases. Please close or reassign all purchases first."):xe.error(a)}finally{b(!1),k(null)}},className:"rounded-lg border border-danger bg-danger py-2 px-6 text-white hover:bg-opacity-90",children:"Delete"})]})]})})]})},Kr=()=>r(kr,{children:[t(ma,{pageName:"Change Password Form"}),t("div",{className:"sm:grid-cols-2",children:t("div",{className:"flex flex-col gap-9",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:t("h3",{className:"font-medium text-black dark:text-white",children:"Change Password Form"})}),t("form",{action:"#",children:r("div",{className:"p-6.5",children:[r("div",{className:"mb-4.5 ",children:[r("div",{className:"w-full mb-4",children:[r("label",{className:"mb-4 block text-black dark:text-white",children:["New Password ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"password",placeholder:"Enter new password",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),r("div",{className:"w-full mb-4",children:[r("label",{className:"mb-4 block text-black dark:text-white",children:["Repeat New Password ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"password",placeholder:"Re-enter new password",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"}),t(G,{className:"absolute right-4 top-4 text-xl"})]})]}),t("div",{className:"flex flex-col md:flex-row w-full gap-3 text-center",children:t(l,{to:"",children:t(ha,{children:t("span",{children:"Save"})})})})]})})]})})})]}),Xr=[{id:1,nik:"1218052110020002",namaPegawai:"Gilbert Hutapea",Gender:"Male",titleJabatan:"HRD",hadir:"22",sakit:"5",alpha:"3"},{id:2,nik:"1218052110020003",namaPegawai:"Layla Siregar",Gender:"Female",titleJabatan:"Staff Marketing",hadir:"23",sakit:"4",alpha:"3"},{id:3,nik:"1218052110020004",namaPegawai:"Zilong Sibarani",Gender:"Male",titleJabatan:"Admin",hadir:"24",sakit:"3",alpha:"3"},{id:4,nik:"1218052110020005",namaPegawai:"Nana Silaban",Gender:"Female",titleJabatan:"Sales",hadir:"25",sakit:"2",alpha:"3"},{id:5,nik:"1218052110020005",namaPegawai:"Nana Silaban",Gender:"Female",titleJabatan:"Non Staf",hadir:"26",sakit:"1",alpha:"3"},{id:6,nik:"1218052110020005",namaPegawai:"Nana Silaban",Gender:"Female",titleJabatan:"Supervisi",hadir:"27",sakit:"0",alpha:"3"},{id:7,nik:"1218052110020005",namaPegawai:"Nana Silaban",Gender:"Female",titleJabatan:"Designer",hadir:"28",sakit:"2",alpha:"2"},{id:8,nik:"1218052110020005",namaPegawai:"Nana Silaban",Gender:"Female",titleJabatan:"Manager",hadir:"29",sakit:"1",alpha:"0"}],Qr=()=>{const[e,a]=d.useState(1),[s,n]=d.useState(0),[i,o]=d.useState(4),[c,m]=d.useState([]),p=Math.ceil(Xr.length/4);d.useEffect((()=>{m(Xr.slice(s,i))}),[s,i]);return r(kr,{children:[t(ma,{pageName:"Employee Attendance Data"}),r("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-2 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-10 mt-6",children:[t("div",{className:"border-b border-stroke py-2 dark:border-strokedark",children:t("h3",{className:"font-medium text-black dark:text-white",children:"Filter Employee Attendance Data"})}),r("div",{className:"flex justify-between items-center mt-4 flex-col md:flex-row md:justify-between",children:[t("div",{className:"relative w-full md:w-1/4 md:mr-2 mb-4 md:mb-0",children:r("div",{className:"relative",children:[t("span",{className:"px-4",children:" Month"}),t("span",{className:"absolute top-1/2 left-55 z-30 -translate-y-1/2 text-xl",children:t(j,{})}),r("select",{className:"relative appearance-none rounded border border-stroke bg-transparent py-2 px-12 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:[t("option",{value:"",children:"Select Month"}),t("option",{value:"",children:"January"}),t("option",{value:"",children:"February"}),t("option",{value:"",children:"March"}),t("option",{value:"",children:"April"}),t("option",{value:"",children:"May"}),t("option",{value:"",children:"June"}),t("option",{value:"",children:"July"}),t("option",{value:"",children:"August"}),t("option",{value:"",children:"September"}),t("option",{value:"",children:"October"}),t("option",{value:"",children:"November"}),t("option",{value:"",children:"December"})]})]})}),t("div",{className:"relative w-full md:w-1/4 md:mr-2 mb-4 md:mb-0",children:r("div",{className:"relative",children:[t("span",{className:"px-4",children:"Year"}),t("span",{className:"absolute top-1/2 left-55 z-30 -translate-y-1/2 text-xl",children:t(j,{})}),r("select",{className:"relative appearance-none rounded border border-stroke bg-transparent py-2 px-12 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:[t("option",{value:"",children:"Select Year"}),t("option",{value:"",children:"2020"}),t("option",{value:"",children:"2021"}),t("option",{value:"",children:"2022"}),t("option",{value:"",children:"2023"}),t("option",{value:"",children:"2024"}),t("option",{value:"",children:"2025"}),t("option",{value:"",children:"2026"}),t("option",{value:"",children:"2027"})]})]})}),r("div",{className:"flex flex-col md:flex-row w-full md:w-1/2 justify-between text-center",children:[t("div",{className:"relative w-full md:w-1/2 mb-4 md:mb-0 ",children:t(l,{to:"/admin/transaksi/data-absensi",children:r(ha,{className:"bg-primary",children:[t("span",{children:"Show Data"}),t("span",{children:t(ke,{})})]})})}),t("div",{className:"relative w-full md:w-1/2  mb-4 md:mb-0",children:t(l,{to:"/admin/transaksi/data-absensi",children:r(ha,{children:[t("span",{children:"Input Attendance"}),t("span",{children:t(me,{})})]})})})]})]}),t("div",{className:"bg-gray-2 text-left dark:bg-meta-4 mt-6",children:r("h2",{className:"px-4 py-2 text-black dark:text-white",children:["Displaying Employee Attendance Data for Month:",t("span",{className:"font-medium",children:" April"})," Year:",t("span",{className:"font-medium",children:" 2023"})]})})]}),r("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1 mt-6",children:[t("div",{className:"flex justify-between items-center mt-4 flex-col md:flex-row md:justify-between",children:r("div",{className:"relative flex-2 mb-4 md:mb-0",children:[t("input",{type:"text",placeholder:"Type to search..",className:"rounded-lg border-[1.5px] border-stroke bg-transparent py-2 pl-10 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary left-0"}),t("span",{className:"absolute left-2 py-3 text-xl",children:t(pe,{})})]})}),t("div",{className:"max-w-full overflow-x-auto py-4",children:r("table",{className:"w-full table-auto",children:[t("thead",{children:r("tr",{className:"bg-gray-2 text-left dark:bg-meta-4",children:[t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"NIK"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Employee Name"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Gender"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Position"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Present"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Sick"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Absent"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Actions"})]})}),t("tbody",{children:c.map((e=>r("tr",{children:[t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.nik})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.namaPegawai})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.Gender})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.titleJabatan})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.hadir})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.sakit})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.alpha})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:r("div",{className:"flex items-center space-x-3.5",children:[t("button",{className:"hover:text-black",children:t(he,{className:"text-primary text-xl hover:text-black dark:hover:text-white"})}),t("button",{className:"hover:text-black",children:t(ue,{className:"text-danger text-xl hover:text-black dark:hover:text-white"})})]})})]},e.id)))})]})}),r("div",{className:"flex justify-between items-center mt-4 flex-col md:flex-row md:justify-between",children:[t("div",{className:"flex items-center space-x-2",children:r("span",{className:"text-gray-5 dark:text-gray-4 text-sm py-4",children:["Showing ",s,"-",i," of ",Xr.length," Data Attendance"]})}),r("div",{className:"flex space-x-2 py-4",children:[t("button",{disabled:1===e,onClick:()=>{e>1&&(a((e=>e-1)),n((e=>e-4)),o((e=>e-4)))},className:"py-2 px-6 rounded-lg border border-primary text-primary font-semibold hover:bg-primary hover:text-white dark:text-white dark:border-primary dark:hover:bg-primary dark:hover:text-white disabled:opacity-50",children:"Prev"}),[...Array(Math.min(p,5))].map(((a,r)=>{const l=r+1;return l===e?t("div",{className:"py-2 px-4 rounded-lg border border-primary bg-primary text-white font-semibold hover:bg-primary dark:text-white dark:bg-primary dark:hover:bg-primary",children:l},r):2===l&&e>4||l===p-1&&e<p-3?t("p",{className:"py-2 px-4 border border-gray-2 dark:bg-transparent text-black font-medium bg-gray dark:border-strokedark dark:text-white",children:"..."},r):1===l||l===p||l>=e-1&&l<=e+1?t("div",{className:"py-2 px-4 rounded-lg border border-gray-2 text-black dark:bg-transparent bg-gray font-medium dark:border-strokedark dark:text-white",children:l},r):null})),t("button",{disabled:e===p,onClick:()=>{e<p&&(a((e=>e+1)),n((e=>e+4)),o((e=>e+4)))},className:"py-2 px-6 rounded-lg border border-primary text-primary font-semibold hover:bg-primary hover:text-white dark:text-white dark:border-primary dark:hover:bg-primary dark:hover:text-white disabled:opacity-50",children:"Next"})]})]})]})]})},et=[{id:1,nik:"1218052110020002",namaPegawai:"Gilbert Hutapea",Gender:"Male",titleJabatan:"HRD",gajiPokok:"Rp. 4.000.000",ransportationAllowance:"Rp. 600.000",uangMakan:"Rp. 400.000",jumlahPotongan:"Rp. 100.000",totalGaji:"Rp. 5.900.000"},{id:2,nik:"1218052110020003",namaPegawai:"Layla Siregar",Gender:"Female",titleJabatan:"Staff Marketing",gajiPokok:"Rp. 2.500.000",ransportationAllowance:"Rp. 300.000",uangMakan:"Rp. 200.000",jumlahPotongan:"Rp. 0",totalGaji:"Rp. 3.000.000"},{id:3,nik:"1218052110020004",namaPegawai:"Zilong Sibarani",Gender:"Male",titleJabatan:"Admin",gajiPokok:"Rp. 2.200.000",ransportationAllowance:"Rp. 300.000",uangMakan:"Rp. 200.000",jumlahPotongan:"Rp. 100.000",totalGaji:"Rp. 2.600.000"},{id:4,nik:"1218052110020005",namaPegawai:"Nana Silaban",Gender:"Female",titleJabatan:"Sales",gajiPokok:"Rp. 2.500.000",ransportationAllowance:"Rp. 300.000",uangMakan:"Rp. 200.000",jumlahPotongan:"Rp. 0",totalGaji:"Rp. 3.000.000"},{id:5,nik:"1218052110020005",namaPegawai:"Nana Silaban",Gender:"Female",titleJabatan:"Non Staf",gajiPokok:"Rp. 2.500.000",ransportationAllowance:"Rp. 300.000",uangMakan:"Rp. 200.000",jumlahPotongan:"Rp. 100.000",totalGaji:"Rp. 2.900.000"},{id:6,nik:"1218052110020005",namaPegawai:"Nana Silaban",Gender:"Female",titleJabatan:"Supervisi",gajiPokok:"Rp. 2.200.000",ransportationAllowance:"Rp. 300.000",uangMakan:"Rp. 200.000",jumlahPotongan:"Rp. 0",totalGaji:"Rp. 2.700.000"},{id:7,nik:"1218052110020005",namaPegawai:"Nana Silaban",Gender:"Female",titleJabatan:"Designer",gajiPokok:"Rp. 2.500.000",ransportationAllowance:"Rp. 300.000",uangMakan:"Rp. 200.000",jumlahPotongan:"Rp. 100.000",totalGaji:"Rp. 2.900.000"},{id:8,nik:"1218052110020005",namaPegawai:"Nana Silaban",Gender:"Female",titleJabatan:"Manager",gajiPokok:"Rp. 4.000.000",ransportationAllowance:"Rp. 600.000",uangMakan:"Rp. 400.000",jumlahPotongan:"Rp. 0",totalGaji:"Rp. 6.000.000"}],at=()=>{const[e,a]=d.useState(1),[s,n]=d.useState(0),[i,o]=d.useState(4),[c,m]=d.useState([]),p=Math.ceil(et.length/4);d.useEffect((()=>{m(et.slice(s,i))}),[s,i]);return r(kr,{children:[t(ma,{pageName:"Salary Data  Employee"}),r("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-2 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-10 mt-6",children:[t("div",{className:"border-b border-stroke py-2 dark:border-strokedark",children:t("h3",{className:"font-medium text-black dark:text-white",children:"Filter Employee Salary Data"})}),r("div",{className:"flex justify-between items-center mt-4 flex-col md:flex-row md:justify-between",children:[t("div",{className:"relative w-full md:w-1/4 md:mr-2 mb-4 md:mb-0",children:r("div",{className:"relative",children:[t("span",{className:"px-4",children:" Month"}),t("span",{className:"absolute top-1/2 left-55 z-30 -translate-y-1/2 text-xl",children:t(j,{})}),r("select",{className:"relative appearance-none rounded border border-stroke bg-transparent py-2 px-12 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:[t("option",{value:"",children:"Select Month"}),t("option",{value:"",children:"January"}),t("option",{value:"",children:"February"}),t("option",{value:"",children:"March"}),t("option",{value:"",children:"April"}),t("option",{value:"",children:"May"}),t("option",{value:"",children:"June"}),t("option",{value:"",children:"July"}),t("option",{value:"",children:"August"}),t("option",{value:"",children:"September"}),t("option",{value:"",children:"October"}),t("option",{value:"",children:"November"}),t("option",{value:"",children:"December"})]})]})}),t("div",{className:"relative w-full md:w-1/4 md:mr-2 mb-4 md:mb-0",children:r("div",{className:"relative",children:[t("span",{className:"px-4",children:"Year"}),t("span",{className:"absolute top-1/2 left-55 z-30 -translate-y-1/2 text-xl",children:t(j,{})}),r("select",{className:"relative appearance-none rounded border border-stroke bg-transparent py-2 px-12 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:[t("option",{value:"",children:"Select Year"}),t("option",{value:"",children:"2020"}),t("option",{value:"",children:"2021"}),t("option",{value:"",children:"2022"}),t("option",{value:"",children:"2023"}),t("option",{value:"",children:"2024"}),t("option",{value:"",children:"2025"}),t("option",{value:"",children:"2026"}),t("option",{value:"",children:"2027"})]})]})}),r("div",{className:"flex flex-col md:flex-row w-full md:w-1/2 justify-between text-center",children:[t("div",{className:"relative w-full md:w-1/2 mb-4 md:mb-0 ",children:t(l,{to:"/admin/transaksi/data-gaji",children:r(ha,{className:"bg-primary",children:[t("span",{children:"Show Data"}),t("span",{children:t(ke,{})})]})})}),t("div",{className:"relative w-full md:w-1/2  mb-4 md:mb-0",children:t(l,{to:"/admin/transaksi/data-gaji",children:r(ha,{children:[t("span",{children:"Print Salary List"}),t("span",{children:t(F,{})})]})})})]})]}),t("div",{className:"bg-gray-2 text-left dark:bg-meta-4 mt-6",children:r("h2",{className:"px-4 py-2 text-black dark:text-white",children:["Displaying Employee Salary Data for Month:",t("span",{className:"font-medium",children:" April"})," Year:",t("span",{className:"font-medium",children:" 2023"})]})})]}),r("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1 mt-6",children:[t("div",{className:"flex justify-between items-center mt-4 flex-col md:flex-row md:justify-between",children:r("div",{className:"relative flex-2 mb-4 md:mb-0",children:[t("input",{type:"text",placeholder:"Type to search..",className:"rounded-lg border-[1.5px] border-stroke bg-transparent py-2 pl-10 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary left-0"}),t("span",{className:"absolute left-2 py-3 text-xl",children:t(pe,{})})]})}),t("div",{className:"max-w-full overflow-x-auto py-4",children:r("table",{className:"w-full table-auto-full",children:[t("thead",{children:r("tr",{className:"bg-gray-2  dark:bg-meta-4",children:[t("th",{className:"py-2 px-2 font-medium text-black dark:text-white",children:"NIK"}),r("th",{className:"py-2 px-2 font-medium text-black dark:text-white",children:["Nama ",t("br",{})," Employee"]}),t("th",{className:"py-2 px-2 font-medium text-black dark:text-white",children:"Gender"}),t("th",{className:"py-2 px-2 font-medium text-black dark:text-white",children:"Position"}),t("th",{className:"py-2 px-2 font-medium text-black dark:text-white",children:"Basic Salary"}),r("th",{className:"py-2 px-2 font-medium text-black dark:text-white",children:["Transport ",t("br",{})," Allowence"]}),r("th",{className:"py-2 px-2 font-medium text-black dark:text-white",children:["Meal ",t("br",{})," Allowance"]}),r("th",{className:"py-2 px-2 font-medium text-black dark:text-white",children:["Salary ",t("br",{})," Deduction"]}),r("th",{className:"py-2 px-2 font-medium text-black dark:text-white",children:["Total ",t("br",{})," Salary"]}),t("th",{className:"py-2 px-2 font-medium text-black dark:text-white",children:"Actions"})]})}),t("tbody",{children:c.map((e=>r("tr",{children:[t("td",{className:"border-b border-[#eee] py-5 px-4 text-center dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.nik})}),t("td",{className:"border-b border-[#eee] py-5 px-4 text-center dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.namaPegawai})}),t("td",{className:"border-b border-[#eee] py-5 px-4 text-center dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.Gender})}),t("td",{className:"border-b border-[#eee] py-5 px-4 text-center dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.titleJabatan})}),t("td",{className:"border-b border-[#eee] py-5 px-4 text-center dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.gajiPokok})}),t("td",{className:"border-b border-[#eee] py-5 px-4 text-center dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.ransportationAllowance})}),t("td",{className:"border-b border-[#eee] py-5 px-4 text-center dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.uangMakan})}),t("td",{className:"border-b border-[#eee] py-5 px-4 text-center dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.jumlahPotongan})}),t("td",{className:"border-b border-[#eee] py-5 px-4 text-center dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.totalGaji})}),t("td",{className:"border-b border-[#eee] py-5 px-4 text-center dark:border-strokedark",children:r("div",{className:"flex items-center space-x-3.5",children:[t("button",{className:"hover:text-black",children:t(he,{className:"text-primary text-xl hover:text-black dark:hover:text-white"})}),t("button",{className:"hover:text-black",children:t(ue,{className:"text-danger text-xl hover:text-black dark:hover:text-white"})})]})})]},e.id)))})]})}),r("div",{className:"flex justify-between items-center mt-4 flex-col md:flex-row md:justify-between",children:[t("div",{className:"flex items-center space-x-2",children:r("span",{className:"text-gray-5 dark:text-gray-4 text-sm py-4",children:["Showing ",s,"-",i," of ",et.length," Salary Data  Employee"]})}),r("div",{className:"flex space-x-2 py-4",children:[t("button",{disabled:1===e,onClick:()=>{e>1&&(a((e=>e-1)),n((e=>e-4)),o((e=>e-4)))},className:"py-2 px-6 rounded-lg border border-primary text-primary font-semibold hover:bg-primary hover:text-white dark:text-white dark:border-primary dark:hover:bg-primary dark:hover:text-white disabled:opacity-50",children:"Prev"}),[...Array(Math.min(p,5))].map(((a,r)=>{const l=r+1;return l===e?t("div",{className:"py-2 px-4 rounded-lg border border-primary bg-primary text-white font-semibold hover:bg-primary dark:text-white dark:bg-primary dark:hover:bg-primary",children:l},r):2===l&&e>4||l===p-1&&e<p-3?t("p",{className:"py-2 px-4 border border-gray-2 dark:bg-transparent text-black font-medium bg-gray dark:border-strokedark dark:text-white",children:"..."},r):1===l||l===p||l>=e-1&&l<=e+1?t("div",{className:"py-2 px-4 rounded-lg border border-gray-2 text-black dark:bg-transparent bg-gray font-medium dark:border-strokedark dark:text-white",children:l},r):null})),t("button",{disabled:e===p,onClick:()=>{e<p&&(a((e=>e+1)),n((e=>e+4)),o((e=>e+4)))},className:"py-2 px-6 rounded-lg border border-primary text-primary font-semibold hover:bg-primary hover:text-white dark:text-white dark:border-primary dark:hover:bg-primary dark:hover:text-white disabled:opacity-50",children:"Next"})]})]})]})]})},rt=[{id:1,potonganGaji:"Alpha",jumlahPotongan:"Rp. 100.000"},{id:2,potonganGaji:"Sakit",jumlahPotongan:"Rp. 0"}],tt=()=>{const[e,a]=d.useState(1),[s,n]=d.useState(0),[i,o]=d.useState(4),[c,m]=d.useState([]),p=Math.ceil(rt.length/4);d.useEffect((()=>{m(rt.slice(s,i))}),[s,i]);return r(kr,{children:[t(ma,{pageName:"Setting Salary Deduction "}),t(l,{to:"/admin/transaksi/setting-potongan-gaji/form-setting-potongan-gaji",children:r(ha,{children:[t("span",{children:"Add Salary"}),t("span",{children:t(me,{})})]})}),r("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1 mt-6",children:[t("div",{className:"flex justify-between items-center mt-4 flex-col md:flex-row md:justify-between",children:r("div",{className:"relative flex-2 mb-4 md:mb-0",children:[t("input",{type:"text",placeholder:"Type to search..",className:"rounded-lg border-[1.5px] border-stroke bg-transparent py-2 pl-10 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary left-0"}),t("span",{className:"absolute left-2 py-3 text-xl",children:t(pe,{})})]})}),t("div",{className:"max-w-full overflow-x-auto py-4",children:r("table",{className:"w-full table-auto",children:[t("thead",{children:r("tr",{className:"bg-gray-2 text-left dark:bg-meta-4",children:[t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Salary Deduction"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Attendance"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Actions"})]})}),t("tbody",{children:c.map((e=>r("tr",{children:[t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.potonganGaji})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.jumlahPotongan})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:r("div",{className:"flex items-center space-x-3.5",children:[t("button",{className:"hover:text-black",children:t(he,{className:"text-primary text-xl hover:text-black dark:hover:text-white"})}),t("button",{className:"hover:text-black",children:t(ue,{className:"text-danger text-xl hover:text-black dark:hover:text-white"})})]})})]},e.id)))})]})}),r("div",{className:"flex justify-between items-center mt-4 flex-col md:flex-row md:justify-between",children:[t("div",{className:"flex items-center space-x-2",children:r("span",{className:"text-gray-5 dark:text-gray-4 text-sm py-4",children:["Showing ",s,"-",i," of ",rt.length," Setting Salary Deduction"]})}),r("div",{className:"flex space-x-2 py-4",children:[t("button",{disabled:1===e,onClick:()=>{e>1&&(a((e=>e-1)),n((e=>e-4)),o((e=>e-4)))},className:"py-2 px-6 rounded-lg border border-primary text-primary font-semibold hover:bg-primary hover:text-white dark:text-white dark:border-primary dark:hover:bg-primary dark:hover:text-white disabled:opacity-50",children:"Prev"}),[...Array(Math.min(p,5))].map(((a,r)=>{const l=r+1;return l===e?t("div",{className:"py-2 px-4 rounded-lg border border-primary bg-primary text-white font-semibold hover:bg-primary dark:text-white dark:bg-primary dark:hover:bg-primary",children:l},r):2===l&&e>4||l===p-1&&e<p-3?t("p",{className:"py-2 px-4 border border-gray-2 dark:bg-transparent text-black font-medium bg-gray dark:border-strokedark dark:text-white",children:"..."},r):1===l||l===p||l>=e-1&&l<=e+1?t("div",{className:"py-2 px-4 rounded-lg border border-gray-2 text-black dark:bg-transparent bg-gray font-medium dark:border-strokedark dark:text-white",children:l},r):null})),t("button",{disabled:e===p,onClick:()=>{e<p&&(a((e=>e+1)),n((e=>e+4)),o((e=>e+4)))},className:"py-2 px-6 rounded-lg border border-primary text-primary font-semibold hover:bg-primary hover:text-white dark:text-white dark:border-primary dark:hover:bg-primary dark:hover:text-white disabled:opacity-50",children:"Next"})]})]})]})]})},lt=()=>{const{loanId:e}=A(),{state:a,dispatch:l}=Ma(),[s,n]=d.useState(!0),[i,o]=d.useState(null),[c,m]=d.useState(null),[p,h]=d.useState([]),[u,b]=d.useState(!1),[x,k]=d.useState(null),[g,f]=d.useState({amount:"",date:"",image:null,comments:""}),[y,v]=d.useState(1),[N,w]=d.useState(0),[C,S]=d.useState(5);d.useEffect((()=>{e&&(async()=>{try{n(!0);const a=await Va(dr(e));o(a.data);const r=await Va(er(a.data.customer_id));m(r.data);const t=await Va(or(e));h(t.data)}catch(a){E.error("Failed to fetch loan details"),console.error("Error fetching loan details:",a)}finally{n(!1)}})()}),[e]);const j=[{title:"Advance Amount Paid",amount:`â‚¹${Number((null==i?void 0:i.advance_amount)||0).toFixed(2)}`,bgColor:"bg-primary/10",textColor:"text-primary"},{title:"Total Amount Paid",amount:`â‚¹${i?Number(i.loan_amount-i.remaining_balance).toFixed(2):"0.00"}`,bgColor:"bg-success/10",textColor:"text-success"},{title:"Balance Remaining",amount:`â‚¹${Number((null==i?void 0:i.remaining_balance)||0).toFixed(2)}`,bgColor:"bg-danger/10",textColor:"text-danger"}],R=()=>{f({amount:"",date:"",image:null,comments:"",transaction_type:"credit"});const e=document.querySelector('input[type="file"]');e&&(e.value="")},L=({transaction:e,onClose:a})=>t("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r("div",{className:"relative w-full max-w-2xl rounded-lg bg-white p-6 dark:bg-boxdark",children:[t("button",{onClick:a,className:"absolute right-4 top-4 text-gray-500 hover:text-gray-700",children:t("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),t("h3",{className:"mb-4 text-xl font-semibold",children:"Transaction Receipt"}),r("div",{className:"space-y-4",children:[r("div",{children:[r("p",{className:"text-sm font-medium",children:["Transaction ID: ",e.transaction_id]}),r("p",{className:"text-sm font-medium",children:["Date: ",new Date(e.created_at).toLocaleDateString()]}),r("p",{className:"text-sm font-medium",children:["Amount: â‚¹",Number(e.amount).toFixed(2)]}),r("p",{className:"text-sm font-medium",children:["Comments: ",e.comments]})]}),e.receipt_url&&t("div",{className:"flex justify-center",children:t("img",{src:e.receipt_url,alt:"Receipt",className:"max-h-[500px] rounded-lg object-contain"})})]})]})});return s?t(kr,{children:t("div",{className:"flex items-center justify-center min-h-screen",children:t("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):r(kr,{children:[t(ma,{pageName:"Purchase Details"}),t("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-3",children:j.map(((e,a)=>r("div",{className:`rounded-lg p-4 ${e.bgColor}`,children:[t("h3",{className:"text-sm font-medium",children:e.title}),t("p",{className:`text-2xl font-bold ${e.textColor}`,children:e.amount})]},a)))}),r("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[r("div",{className:"rounded-lg bg-white p-6 shadow-default dark:bg-boxdark",children:[t("h2",{className:"mb-4 text-xl font-semibold",children:"Customer Details"}),r("div",{className:"space-y-4",children:[r("div",{children:[t("label",{className:"mb-1 block text-sm font-medium",children:"Customer ID"}),t("input",{type:"text",className:"w-full rounded-md border border-stroke p-3 outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input",value:(null==c?void 0:c.user_id)||"",disabled:!0})]}),r("div",{children:[t("label",{className:"mb-1 block text-sm font-medium",children:"Customer Name"}),t("input",{type:"text",className:"w-full rounded-md border border-stroke p-3 outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input",value:(null==c?void 0:c.username)||"",disabled:!0})]}),r("div",{children:[t("label",{className:"mb-1 block text-sm font-medium",children:"Email"}),t("input",{type:"text",className:"w-full rounded-md border border-stroke p-3 outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input",value:(null==c?void 0:c.email)||"",disabled:!0})]})]})]}),r("div",{className:"rounded-lg bg-white p-6 shadow-default dark:bg-boxdark",children:[t("h2",{className:"mb-4 text-xl font-semibold",children:"Purchase Details"}),r("div",{className:"space-y-4",children:[r("div",{children:[t("label",{className:"mb-1 block text-sm font-medium",children:"Loan ID"}),t("input",{type:"text",className:"w-full rounded-md border border-stroke p-3 outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input",value:(null==i?void 0:i.loan_id)||"",disabled:!0})]}),r("div",{children:[t("label",{className:"mb-1 block text-sm font-medium",children:"Loan Amount"}),t("input",{type:"text",className:"w-full rounded-md border border-stroke p-3 outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input",value:`â‚¹${Number((null==i?void 0:i.loan_amount)||0).toFixed(2)}`,disabled:!0})]}),r("div",{children:[t("label",{className:"mb-1 block text-sm font-medium",children:"Status"}),t("input",{type:"text",className:"w-full rounded-md border border-stroke p-3 outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input",value:(null==i?void 0:i.status)||"",disabled:!0})]})]})]})]}),r("div",{className:"mt-6 rounded-lg bg-white p-6 shadow-default dark:bg-boxdark",children:[t("h2",{className:"mb-4 text-xl font-semibold",children:"Add Transaction"}),t("form",{onSubmit:async r=>{var t,l;r.preventDefault();const d=E.loading("Adding transaction...");try{const r=new FormData;r.append("loan_id",e),r.append("customer_id",a.user.user_id),r.append("amount",g.amount),r.append("transaction_type","credit"),r.append("date",g.date),r.append("comments",g.comments),g.image&&r.append("receipt",g.image),await Ha(cr,r,{headers:{"Content-Type":"multipart/form-data"}}),await(async()=>{try{const[a,r]=await Promise.all([Va(or(e)),Va(dr(e))]);h(a.data),o(r.data),v(1),w(0),S(5)}catch(a){console.error("Error refreshing data:",a),E.error("Failed to refresh transaction data")}})(),R(),E.success("Transaction added successfully",{id:d})}catch(s){console.error("Transaction error:",s),E.error((null==(l=null==(t=s.response)?void 0:t.data)?void 0:l.message)||"Failed to add transaction",{id:d})}},id:"transactionForm",children:r("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[r("div",{children:[t("label",{className:"mb-1 block text-sm font-medium",children:"Amount"}),t("input",{type:"number",className:"w-full rounded-md border border-stroke p-3 outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input",value:g.amount,onChange:e=>f({...g,amount:e.target.value}),required:!0})]}),r("div",{children:[t("label",{className:"mb-1 block text-sm font-medium",children:"Date"}),t("input",{type:"date",className:"w-full rounded-md border border-stroke p-3 outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input",value:g.date,onChange:e=>f({...g,date:e.target.value}),required:!0})]}),r("div",{children:[t("label",{className:"mb-1 block text-sm font-medium",children:"Upload Receipt"}),t("input",{type:"file",className:"w-full rounded-md border border-stroke p-3 outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input",onChange:e=>f({...g,image:e.target.files[0]}),accept:"image/*"})]}),r("div",{children:[t("label",{className:"mb-1 block text-sm font-medium",children:"Comments"}),t("input",{type:"text",className:"w-full rounded-md border border-stroke p-3 outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input",value:g.comments,onChange:e=>f({...g,comments:e.target.value})})]}),r("div",{className:"md:col-span-2 flex gap-4",children:[t(ha,{type:"submit",children:"Add Transaction"}),t(ha,{type:"button",onClick:R,children:"Reset Form"})]})]})})]}),r("div",{className:"mt-6 rounded-lg bg-white p-6 shadow-default dark:bg-boxdark",children:[t("h2",{className:"mb-4 text-xl font-semibold",children:"Transaction History"}),t("div",{className:"overflow-x-auto",children:r("table",{className:"w-full",children:[t("thead",{children:r("tr",{className:"bg-gray-2 dark:bg-meta-4",children:[t("th",{className:"px-4 py-4 text-left",children:"Transaction ID"}),t("th",{className:"px-4 py-4 text-left",children:"Date"}),t("th",{className:"px-4 py-4 text-left",children:"Amount"}),t("th",{className:"px-4 py-4 text-left",children:"Receipt"}),t("th",{className:"px-4 py-4 text-left",children:"Comments"})]})}),t("tbody",{children:p.slice(N,C).map(((e,a)=>r("tr",{children:[t("td",{className:"border-b border-[#eee] px-4 py-4 dark:border-strokedark",children:e.transaction_id}),t("td",{className:"border-b border-[#eee] px-4 py-4 dark:border-strokedark",children:new Date(e.created_at).toLocaleDateString()}),r("td",{className:"border-b border-[#eee] px-4 py-4 dark:border-strokedark",children:["â‚¹",Number(e.amount).toFixed(2)]}),t("td",{className:"border-b border-[#eee] px-4 py-4 dark:border-strokedark",children:e.receipt_url?t("button",{className:"text-primary hover:underline",onClick:()=>{k(e),b(!0)},children:"View Receipt"}):t("span",{className:"text-gray-400",children:"No Receipt"})}),t("td",{className:"border-b border-[#eee] px-4 py-4 dark:border-strokedark",children:e.comments})]},e.transaction_id||a)))})]})}),r("div",{className:"mt-4 flex items-center justify-between",children:[t("button",{onClick:()=>{y>1&&(v((e=>e-1)),w((e=>e-5)),S((e=>e-5)))},disabled:1===y,className:"rounded-lg border border-primary px-4 py-2 text-primary hover:bg-primary hover:text-white disabled:opacity-50",children:"Previous"}),r("span",{children:["Page ",y," of ",Math.ceil(p.length/5)]}),t("button",{onClick:()=>{y<Math.ceil(p.length/5)&&(v((e=>e+1)),w((e=>e+5)),S((e=>e+5)))},disabled:y===Math.ceil(p.length/5),className:"rounded-lg border border-primary px-4 py-2 text-primary hover:bg-primary hover:text-white disabled:opacity-50",children:"Next"})]})]}),u&&t(L,{transaction:x,onClose:()=>b(!1)})]})},dt=()=>{const{userId:e}=A(),a=k(),{dispatch:l}=Ma(),[s,n]=d.useState(!1),[i,o]=d.useState(""),[c,m]=d.useState(!1),[p,h]=d.useState({username:"",email:"",mobile_number:"",status:"",role:"",gender:"",date_joined:"",address:""});d.useEffect((()=>{(async()=>{var a,r,t,l;n(!0),o("");const d=E.loading("Fetching user details...");try{const a=await Va(er(e));h(a.data),E.success("User details loaded successfully",{id:d})}catch(s){E.error((null==(r=null==(a=s.response)?void 0:a.data)?void 0:r.msg)||"Failed to fetch user details",{id:d}),o((null==(l=null==(t=s.response)?void 0:t.data)?void 0:l.msg)||"Failed to fetch user details")}finally{n(!1)}})()}),[e]);const u=e=>{const{name:a,value:r}=e.target;h((e=>({...e,[a]:r})))};return s?t("div",{children:"Loading..."}):r(kr,{children:[t(ma,{pageName:"Edit User"}),c&&t("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center p-4",children:r("div",{className:"bg-white dark:bg-boxdark rounded-sm shadow-default p-6 max-w-md w-full",children:[t("h3",{className:"text-xl font-semibold mb-4 text-black dark:text-white",children:"Confirm Delete"}),t("p",{className:"text-gray-500 dark:text-gray-400 mb-3",children:"Are you sure you want to delete this user? This action cannot be undone."}),t("p",{className:"text-warning text-sm mb-6",children:"Note: Users with associated loans cannot be deleted. Please delete or reassign any loans first."}),r("div",{className:"flex justify-end gap-4",children:[t("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",disabled:s,children:"Cancel"}),t("button",{onClick:async()=>{var r,t;n(!0);try{await Yr(l,e);try{p.photo&&await Ya(`/api/users/${e}/photo`)}catch(d){console.error("Failed to delete profile photo:",d)}E.success("User deleted successfully!"),a("/admin/master-data/data-pegawai")}catch(s){const e=(null==(t=null==(r=s.response)?void 0:r.data)?void 0:t.msg)||"Failed to delete user";e.includes("foreign key constraint fails")?(E.error("Cannot delete user because they have associated loans. Please delete or reassign the loans first."),o("Cannot delete user because they have associated loans. Please delete or reassign the loans first.")):(E.error(e),o(e))}finally{n(!1),m(!1)}},className:"px-4 py-2 bg-danger text-white rounded hover:bg-opacity-90",disabled:s,children:s?"Deleting...":"Delete"})]})]})}),t("div",{className:"sm:grid-cols-2",children:t("div",{className:"flex flex-col gap-9",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[r("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark flex justify-between items-center",children:[t("h3",{className:"font-medium text-black dark:text-white",children:"Edit User Data"}),r("button",{type:"button",onClick:()=>m(!0),className:"flex items-center gap-2 text-danger hover:text-opacity-90",children:[t(ge,{}),t("span",{children:"Delete User"})]})]}),i&&t("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative m-4",children:i}),t("form",{onSubmit:async r=>{var t,d,s,c;r.preventDefault(),n(!0),o("");const m=E.loading("Updating user...");try{await(async(e,a,r)=>{var t,l;const d=E.loading("Updating user...");try{const t=await Za(rr(a),r);e({type:Ca,payload:t.data}),E.success("User updated successfully",{id:d})}catch(i){e({type:Na,payload:(null==(l=null==(t=i.response)?void 0:t.data)?void 0:l.msg)||"Failed to update user"}),E.error("Failed to update user",{id:d})}})(l,e,p),E.success("User updated successfully!",{id:m}),a("/admin/master-data/data-pegawai")}catch(h){E.error((null==(d=null==(t=h.response)?void 0:t.data)?void 0:d.msg)||"Failed to update user",{id:m}),o((null==(c=null==(s=h.response)?void 0:s.data)?void 0:c.msg)||"Failed to update user")}finally{n(!1)}},children:r("div",{className:"p-6.5",children:[r("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Username ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"text",name:"username",value:p.username,onChange:u,required:!0,placeholder:"Enter username",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Email ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"email",name:"email",value:p.email,onChange:u,required:!0,placeholder:"Enter email",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]})]}),r("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Mobile Number ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"text",name:"mobile_number",value:p.mobile_number,onChange:u,required:!0,placeholder:"Enter mobile number",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Gender ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[r("select",{name:"gender",value:p.gender,onChange:u,required:!0,className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:[t("option",{value:"",children:"Select Gender"}),t("option",{value:"male",children:"Male"}),t("option",{value:"female",children:"Female"})]}),t("span",{className:"absolute top-1/2 right-4 z-30 -translate-y-1/2 text-2xl",children:t(j,{})})]})]})]}),r("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Role ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[r("select",{name:"role",value:p.role,onChange:u,required:!0,className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:[t("option",{value:"",children:"Select Role"}),t("option",{value:"admin",children:"Admin"}),t("option",{value:"user",children:"User"})]}),t("span",{className:"absolute top-1/2 right-4 z-30 -translate-y-1/2 text-2xl",children:t(j,{})})]})]}),r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Status ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[r("select",{name:"status",value:p.status,onChange:u,required:!0,className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",children:[t("option",{value:"",children:"Select Status"}),t("option",{value:"active",children:"Active"}),t("option",{value:"inactive",children:"Inactive"})]}),t("span",{className:"absolute top-1/2 right-4 z-30 -translate-y-1/2 text-2xl",children:t(j,{})})]})]})]}),r("div",{className:"mb-4.5",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Address ",t("span",{className:"text-meta-1",children:"*"})]}),t("textarea",{name:"address",value:p.address,onChange:u,required:!0,placeholder:"Enter address",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",rows:4})]}),r("div",{className:"flex flex-col md:flex-row w-full gap-3 text-center mt-7.5",children:[t("button",{type:"submit",disabled:s,className:"inline-flex items-center justify-center gap-2.5 rounded-md bg-primary py-2.5 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10",children:s?"Saving...":"Save Changes"}),t("button",{type:"button",onClick:()=>a("/admin/master-data/data-pegawai"),className:"inline-flex items-center justify-center gap-2.5 rounded-md bg-danger py-2.5 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10",children:"Cancel"})]})]})})]})})})]})},st=({children:e})=>{const[a,l]=d.useState(!1);return t("div",{className:"dark:bg-boxdark-2 dark:text-bodydark",children:r("div",{className:"flex h-screen overflow-hidden",children:[t(jr,{sidebarOpen:a,setSidebarOpen:l}),r("div",{className:"relative flex flex-1 flex-col overflow-y-auto overflow-x-hidden",children:[t(wr,{sidebarOpen:a,setSidebarOpen:l}),t("main",{children:t("div",{className:"mx-auto max-w-screen-2xl p-4 md:p-6 2xl:p-10",children:e})})]})]})})},nt=()=>{const[e,a]=d.useState({name:"",position:"",joinDate:"",status:"",email:"",gender:"",mobile_number:"",address:"",photo:"",url:"",permissions:""}),[l,s]=d.useState({totalLoans:0,totalAmountPaid:0,totalAdvancePaid:0,activeLoans:0}),n=(l.totalAmountPaid||0)+(l.totalAdvancePaid||0),[i,o]=d.useState([]),[m,h]=d.useState([]),[u,b]=d.useState(!0),[x,k]=d.useState(null),[f,y]=d.useState(""),[v,N]=d.useState([]),[w,C]=d.useState(!1),[S,E]=d.useState(!1),[j,A]=d.useState(null),[R,L]=d.useState(""),P=(e,a)=>{navigator.clipboard.writeText(e).then((()=>{L(`${a} copied!`),setTimeout((()=>L("")),2e3)}))},D="Raghav Elite Projects",_="120027350028",T="CNRB0010623",M="Ballari Zilla Panchayat Branch",I="SAVING",F="583015115";d.useEffect((()=>{(async()=>{var e,r;try{b(!0),k(null);const[e,r,t,l]=await Promise.all([Va("/api/employee/profile"),Va("/api/employee/loan-statistics"),Va("/api/employee/recent-loans"),Va("/api/employee/recent-activities")]);a(e.data),s(r.data),o(t.data),h(l.data)}catch(t){console.error("Error fetching data:",t),k((null==(r=null==(e=t.response)?void 0:e.data)?void 0:r.error)||"An error occurred while fetching data")}finally{b(!1)}})()}),[]);const O=({transaction:e,onClose:a})=>t("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r("div",{className:"relative w-full max-w-2xl rounded-lg bg-white p-6 dark:bg-boxdark",children:[t("button",{onClick:a,className:"absolute right-4 top-4 text-gray-500 hover:text-gray-700",children:t("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),t("h3",{className:"mb-4 text-xl font-semibold",children:"Transaction Receipt"}),r("div",{className:"space-y-4",children:[r("div",{children:[r("p",{className:"text-sm font-medium",children:["Transaction ID: ",e.transaction_id]}),r("p",{className:"text-sm font-medium",children:["Date: ",new Date(e.created_at).toLocaleDateString()]}),r("p",{className:"text-sm font-medium",children:["Amount: â‚¹",Number(e.amount).toFixed(2)]}),r("p",{className:"text-sm font-medium",children:["Comments: ",e.comments]})]}),e.receipt_url&&t("div",{className:"flex justify-center",children:t("img",{src:e.receipt_url,alt:"Receipt",className:"max-h-[500px] rounded-lg object-contain"})})]})]})});return x?t(st,{children:t("div",{className:"flex items-center justify-center h-screen",children:r("div",{className:"text-center",children:[t("h2",{className:"text-2xl font-semibold text-meta-1 mb-4",children:"Error Loading Dashboard"}),t("p",{className:"text-gray-500",children:x}),t("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-meta-3 text-white px-4 py-2 rounded-lg hover:bg-opacity-90 transition",children:"Retry"})]})})}):r(st,{children:[t(pa,{pageName:"Dashboard"}),r("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 px-4 mt-6",children:[t("div",{className:"md:col-span-1",children:t("div",{className:"rounded-sm border border-stroke bg-white p-4 shadow-default dark:border-strokedark dark:bg-boxdark",children:r("div",{className:"flex flex-col items-center",children:[e.photo?t("img",{src:e.photo,alt:e.name,className:"h-32 w-32 rounded-full object-cover mb-4"}):t("div",{className:"h-32 w-32 flex items-center justify-center mb-4",children:t(g,{className:"h-full w-full text-gray-300"})}),t("h3",{className:"text-xl font-semibold text-black dark:text-white mb-2",children:e.name||"Employee Name"}),t("p",{className:"text-meta-3 font-medium",children:e.position||"Position"}),t("div",{className:"mt-2 flex items-center gap-2",children:t("span",{className:"inline-block rounded-full py-1 px-3 text-xs font-medium "+("active"===e.status?"bg-success text-white":"bg-danger text-white"),children:e.status||"Status"})})]})})}),t("div",{className:"md:col-span-2",children:r("div",{className:"rounded-sm border border-stroke bg-white p-4 shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("h4",{className:"text-xl font-semibold text-black dark:text-white mb-4",children:"Customer Details"}),r("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r("div",{className:"flex items-center",children:[t(fe,{className:"text-meta-3 mr-3 text-xl"}),r("div",{children:[t("p",{className:"text-sm text-gray-500",children:"Email"}),t("p",{className:"font-medium break-all",children:e.email||"N/A"})]})]}),r("div",{className:"flex items-center",children:[t(ye,{className:"text-meta-5 mr-3 text-xl"}),r("div",{children:[t("p",{className:"text-sm text-gray-500",children:"Phone"}),t("p",{className:"font-medium",children:e.mobile_number||"N/A"})]})]}),r("div",{className:"flex items-center",children:[t(ve,{className:"text-meta-6 mr-3 text-xl"}),r("div",{children:[t("p",{className:"text-sm text-gray-500",children:"Gender"}),t("p",{className:"font-medium capitalize",children:e.gender||"N/A"})]})]}),r("div",{className:"flex items-center",children:[t(Ne,{className:"text-meta-7 mr-3 text-xl"}),r("div",{children:[t("p",{className:"text-sm text-gray-500",children:"Join Date"}),t("p",{className:"font-medium",children:e.joinDate?new Date(e.joinDate).toLocaleDateString():"N/A"})]})]}),r("div",{className:"flex items-center",children:[t(we,{className:"text-meta-3 mr-3 text-xl"}),r("div",{children:[t("p",{className:"text-sm text-gray-500",children:"Address"}),t("p",{className:"font-medium break-words",children:e.address||"N/A"})]})]}),r("div",{className:"flex items-center",children:[t(ce,{className:"text-meta-5 mr-3 text-xl"}),r("div",{children:[t("p",{className:"text-sm text-gray-500",children:"Permissions"}),t("p",{className:"font-medium capitalize",children:e.permissions||"N/A"})]})]}),e.url&&r("div",{className:"flex items-center md:col-span-2",children:[t(Ce,{className:"text-meta-6 mr-3 text-xl"}),r("div",{children:[t("p",{className:"text-sm text-gray-500",children:"Profile URL"}),t("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-primary hover:underline break-all",children:e.url})]})]})]})]})})]}),t("div",{className:"grid grid-cols-1 gap-4 mb-6 px-4 mt-6",children:r("div",{className:"rounded-sm border border-stroke bg-white p-4 shadow-default dark:border-strokedark dark:bg-boxdark",children:[r("div",{className:"border-b border-stroke pb-4 dark:border-strokedark",children:[r("h3",{className:"font-medium text-black dark:text-white flex items-center gap-2",children:[t(Se,{className:"text-xl text-primary"}),"Raghav Projects Bank Details"]}),t("p",{className:"text-sm text-gray-500 mt-1",children:"You can pay your EMI directly to the below account"})]}),r("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[r("div",{className:"space-y-4",children:[r("div",{children:[t("label",{className:"text-sm text-gray-500",children:"Account Holder"}),r("div",{className:"flex items-center gap-2",children:[t("p",{className:"font-medium text-black dark:text-white",children:D}),t("button",{onClick:()=>P(D,"Account holder name"),className:"text-primary hover:text-meta-3 transition-colors",title:"Copy account holder name",children:t(Ee,{size:14})})]})]}),r("div",{children:[t("label",{className:"text-sm text-gray-500",children:"Account Number"}),r("div",{className:"flex items-center gap-2",children:[t("p",{className:"font-medium text-black dark:text-white",children:_}),t("button",{onClick:()=>P(_,"Account number"),className:"text-primary hover:text-meta-3 transition-colors",title:"Copy account number",children:t(Ee,{size:14})})]})]}),r("div",{children:[t("label",{className:"text-sm text-gray-500",children:"IFSC Code"}),r("div",{className:"flex items-center gap-2",children:[t("p",{className:"font-medium text-black dark:text-white",children:T}),t("button",{onClick:()=>P(T,"IFSC code"),className:"text-primary hover:text-meta-3 transition-colors",title:"Copy IFSC code",children:t(Ee,{size:14})})]})]})]}),r("div",{className:"space-y-4",children:[r("div",{children:[t("label",{className:"text-sm text-gray-500",children:"Branch"}),r("div",{className:"flex items-center gap-2",children:[t("p",{className:"font-medium text-black dark:text-white",children:M}),t("button",{onClick:()=>P(M,"Branch name"),className:"text-primary hover:text-meta-3 transition-colors",title:"Copy branch name",children:t(Ee,{size:14})})]})]}),r("div",{children:[t("label",{className:"text-sm text-gray-500",children:"Account Type"}),t("p",{className:"font-medium text-black dark:text-white",children:I})]}),r("div",{children:[t("label",{className:"text-sm text-gray-500",children:"MMID"}),r("div",{className:"flex items-center gap-2",children:[t("p",{className:"font-medium text-black dark:text-white",children:F}),t("button",{onClick:()=>P(F,"MMID"),className:"text-primary hover:text-meta-3 transition-colors",title:"Copy MMID",children:t(Ee,{size:14})})]})]})]})]}),R&&t("div",{className:"mt-4 text-sm text-success animate-fade-in-out",children:R})]})}),r("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 px-4",children:[r("div",{className:"rounded-sm border border-stroke bg-white py-6 px-7.5 shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"flex h-11.5 w-11.5 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4",children:t(ie,{className:"fill-primary dark:fill-white text-xl"})}),t("div",{className:"mt-4 flex items-end justify-between",children:r("div",{children:[t("h4",{className:"text-2xl font-bold text-black dark:text-white",children:l.totalLoans}),t("span",{className:"text-sm font-medium",children:"Total Land Purchase"})]})})]}),r("div",{className:"rounded-sm border border-stroke bg-white py-6 px-7.5 shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"flex h-11.5 w-11.5 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4",children:t(p,{className:"fill-primary dark:fill-white text-xl"})}),t("div",{className:"mt-4 flex items-end justify-between",children:r("div",{children:[r("h4",{className:"text-2xl font-bold text-black dark:text-white",children:["â‚¹",n.toFixed(2)]}),t("span",{className:"text-sm font-medium",children:"Total Amount Paid"})]})})]}),r("div",{className:"rounded-sm border border-stroke bg-white py-6 px-7.5 shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"flex h-11.5 w-11.5 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4",children:t(c,{className:"fill-primary dark:fill-white text-xl"})}),t("div",{className:"mt-4 flex items-end justify-between",children:r("div",{children:[r("h4",{className:"text-2xl font-bold text-black dark:text-white",children:["â‚¹",l.totalAdvancePaid.toFixed(2)]}),t("span",{className:"text-sm font-medium",children:"Advance Paid"})]})})]}),r("div",{className:"rounded-sm border border-stroke bg-white py-6 px-7.5 shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"flex h-11.5 w-11.5 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4",children:t(oe,{className:"fill-primary dark:fill-white text-xl"})}),t("div",{className:"mt-4 flex items-end justify-between",children:r("div",{children:[t("h4",{className:"text-2xl font-bold text-black dark:text-white",children:l.activeLoans}),t("span",{className:"text-sm font-medium",children:"Active Purchase"})]})})]})]}),t("div",{className:"px-4 mb-6",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"border-b border-stroke px-4 py-4 dark:border-strokedark",children:t("h3",{className:"font-medium text-black dark:text-white",children:"Recent Land Purchase"})}),t("div",{className:"p-4",children:u?t("p",{children:"Loading..."}):i.length>0?t("div",{className:"overflow-x-auto",children:r("table",{className:"w-full table-auto",children:[t("thead",{children:r("tr",{className:"bg-gray-2 text-left dark:bg-meta-4",children:[t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Purchase ID"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Amount"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Date"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Status"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Paid Amount"})]})}),t("tbody",{children:i.map(((e,a)=>r("tr",{className:"border-b border-[#eee] dark:border-strokedark",children:[t("td",{className:"py-4 px-4",children:e.loanId}),r("td",{className:"py-4 px-4",children:["â‚¹",Number(e.amount).toFixed(2)]}),t("td",{className:"py-4 px-4",children:new Date(e.date).toLocaleDateString()}),t("td",{className:"py-4 px-4",children:t("span",{className:"inline-block rounded-full py-1 px-3 text-sm font-medium "+("active"===e.status?"bg-success text-white":"completed"===e.status?"bg-meta-3 text-white":"bg-danger text-white"),children:e.status})}),r("td",{className:"py-4 px-4",children:["â‚¹",Number(e.paidAmount).toFixed(2)]})]},a)))})]})}):t("p",{className:"text-center text-gray-500",children:"No recent land Purchase"})})]})}),t("div",{className:"px-4 mb-6",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"border-b border-stroke px-4 py-4 dark:border-strokedark",children:t("h3",{className:"font-medium text-black dark:text-white",children:"Recent Activities"})}),t("div",{className:"p-4",children:u?t("p",{children:"Loading..."}):m.length>0?t("div",{className:"flex flex-col gap-4",children:m.map(((e,a)=>t("div",{className:"flex items-center justify-between border-b border-stroke pb-4 dark:border-strokedark",children:r("div",{className:"flex items-center gap-3",children:[t("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-meta-2 dark:bg-meta-4",children:t(ie,{className:"fill-primary dark:fill-white"})}),r("div",{children:[t("p",{className:"text-sm font-medium text-black dark:text-white",children:e.description}),t("p",{className:"text-sm text-gray-500",children:new Date(e.date).toLocaleString()})]})]})},a)))}):t("p",{className:"text-center text-gray-500",children:"No recent activities"})})]})}),t("div",{className:"px-4 mb-6",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"border-b border-stroke px-4 py-4 dark:border-strokedark",children:t("h3",{className:"font-medium text-black dark:text-white",children:"Land Purchase Transactions"})}),r("div",{className:"p-4",children:[r("div",{className:"mb-4",children:[t("label",{className:"mb-2.5 block text-black dark:text-white",children:"Select Land Purchase"}),r("div",{className:"relative z-20 bg-white dark:bg-form-input",children:[r("select",{value:f,onChange:e=>{const a=e.target.value;y(a),(async e=>{if(e)try{C(!0);const a=await Va(`/api/loan-transactions/${e}`);N(a.data)}catch(a){console.error("Error fetching loan transactions:",a)}finally{C(!1)}})(a)},className:"relative z-20 w-full appearance-none rounded border border-stroke bg-transparent py-3 px-5 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:[t("option",{value:"",children:"Select a purchase"}),i.map((e=>r("option",{value:e.loanId,children:["Purchase ID: ",e.loanId," - Amount: â‚¹",Number(e.amount).toFixed(2)]},e.loanId)))]}),t("span",{className:"absolute top-1/2 right-4 z-10 -translate-y-1/2",children:t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t("g",{opacity:"0.8",children:t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z",fill:"#637381"})})})})]})]}),w?t("div",{className:"text-center py-4",children:t("p",{children:"Loading transactions..."})}):f?v.length>0?t("div",{className:"overflow-x-auto",children:r("table",{className:"w-full table-auto",children:[t("thead",{children:r("tr",{className:"bg-gray-2 text-left dark:bg-meta-4",children:[t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Transaction ID"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Type"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Amount"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Date"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Receipt"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Comments"})]})}),t("tbody",{children:v.map((e=>r("tr",{children:[t("td",{className:"border-b border-[#eee] px-4 py-4 dark:border-strokedark",children:e.transaction_id}),t("td",{className:"border-b border-[#eee] px-4 py-4 dark:border-strokedark",children:t("span",{className:"inline-block rounded-full py-1 px-3 text-sm font-medium "+("credit"===e.transaction_type?"bg-success text-white":"bg-meta-3 text-white"),children:"credit"===e.transaction_type?"Payment":"Advance"})}),r("td",{className:"border-b border-[#eee] px-4 py-4 dark:border-strokedark",children:["â‚¹",Number(e.amount).toFixed(2)]}),t("td",{className:"border-b border-[#eee] px-4 py-4 dark:border-strokedark",children:new Date(e.created_at).toLocaleString()}),t("td",{className:"border-b border-[#eee] px-4 py-4 dark:border-strokedark",children:e.receipt_url?t("button",{className:"text-primary hover:underline",onClick:()=>{A(e),E(!0)},children:"View Receipt"}):t("span",{className:"text-gray-400",children:"No Receipt"})}),t("td",{className:"border-b border-[#eee] px-4 py-4 dark:border-strokedark",children:e.comments||"-"})]},e.transaction_id)))})]})}):t("div",{className:"text-center py-4",children:t("p",{className:"text-gray-500",children:"No transactions found for this purchase"})}):t("div",{className:"text-center py-4",children:t("p",{className:"text-gray-500",children:"Select a purchase to view its transactions"})})]})]})}),S&&t(O,{transaction:j,onClose:()=>E(!1)})]})},it=[{id:1,bulanTahun:"01/2023",gajiPokok:"Rp. 4.000.000",ransportationAllowance:"Rp. 600.000",uangMakan:"Rp. 400.000",jumlahPotongan:"Rp. 100.000",totalGaji:"Rp. 5.900.000"},{id:2,bulanTahun:"02/2023",gajiPokok:"Rp. 2.500.000",ransportationAllowance:"Rp. 300.000",uangMakan:"Rp. 200.000",jumlahPotongan:"Rp. 0",totalGaji:"Rp. 3.000.000"},{id:3,bulanTahun:"03/2023",gajiPokok:"Rp. 2.200.000",ransportationAllowance:"Rp. 300.000",uangMakan:"Rp. 200.000",jumlahPotongan:"Rp. 100.000",totalGaji:"Rp. 2.600.000"},{id:4,bulanTahun:"04/2023",gajiPokok:"Rp. 2.500.000",ransportationAllowance:"Rp. 300.000",uangMakan:"Rp. 200.000",jumlahPotongan:"Rp. 0",totalGaji:"Rp. 3.000.000"},{id:5,bulanTahun:"05/2023",gajiPokok:"Rp. 2.500.000",ransportationAllowance:"Rp. 300.000",uangMakan:"Rp. 200.000",jumlahPotongan:"Rp. 100.000",totalGaji:"Rp. 2.900.000"},{id:6,bulanTahun:"06/2023",gajiPokok:"Rp. 2.200.000",ransportationAllowance:"Rp. 300.000",uangMakan:"Rp. 200.000",jumlahPotongan:"Rp. 0",totalGaji:"Rp. 2.700.000"},{id:7,bulanTahun:"07/2023",gajiPokok:"Rp. 2.500.000",ransportationAllowance:"Rp. 300.000",uangMakan:"Rp. 200.000",jumlahPotongan:"Rp. 100.000",totalGaji:"Rp. 2.900.000"},{id:8,bulanTahun:"08/2023",gajiPokok:"Rp. 4.000.000",ransportationAllowance:"Rp. 600.000",uangMakan:"Rp. 400.000",jumlahPotongan:"Rp. 0",totalGaji:"Rp. 6.000.000"}],ot=()=>{const[e,a]=d.useState(1),[l,s]=d.useState(0),[n,i]=d.useState(4),[o,c]=d.useState([]),m=Math.ceil(it.length/4);d.useEffect((()=>{c(it.slice(l,n))}),[l,n]);return r(st,{children:[t(pa,{pageName:"Salary Data "}),r("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1 mt-6",children:[t("div",{className:"max-w-full overflow-x-auto py-4",children:r("table",{className:"w-full table-auto",children:[t("thead",{children:r("tr",{className:"bg-gray-2 text-left dark:bg-meta-4",children:[t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Bulan/Tahun"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Basic Salary"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Tansportation Allowanceasi"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Meal Money"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Salary"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Total Salary"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Cetak Slip"})]})}),t("tbody",{children:o.map((e=>r("tr",{children:[t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.bulanTahun})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.gajiPokok})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.ransportationAllowance})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.uangMakan})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.jumlahPotongan})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:t("p",{className:"text-black dark:text-white",children:e.totalGaji})}),t("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark text-center",children:t("div",{className:"items-center ",children:t("button",{className:"hover:text-black",children:t(F,{className:"text-primary text-xl hover:text-black dark:hover:text-white"})})})})]},e.id)))})]})}),r("div",{className:"flex justify-between items-center mt-4 flex-col md:flex-row md:justify-between",children:[t("div",{className:"flex items-center space-x-2",children:r("span",{className:"text-gray-5 dark:text-gray-4 text-sm py-4",children:["Showing ",l,"-",n," of ",it.length," Salary Data"]})}),r("div",{className:"flex space-x-2 py-4",children:[t("button",{disabled:1===e,onClick:()=>{e>1&&(a((e=>e-1)),s((e=>e-4)),i((e=>e-4)))},className:"py-2 px-6 rounded-lg border border-primary text-primary font-semibold hover:bg-primary hover:text-white dark:text-white dark:border-primary dark:hover:bg-primary dark:hover:text-white disabled:opacity-50",children:"Prev"}),[...Array(Math.min(m,5))].map(((a,r)=>{const l=r+1;return l===e?t("div",{className:"py-2 px-4 rounded-lg border border-primary bg-primary text-white font-semibold hover:bg-primary dark:text-white dark:bg-primary dark:hover:bg-primary",children:l},r):2===l&&e>4||l===m-1&&e<m-3?t("p",{className:"py-2 px-4 border border-gray-2 dark:bg-transparent text-black font-medium bg-gray dark:border-strokedark dark:text-white",children:"..."},r):1===l||l===m||l>=e-1&&l<=e+1?t("div",{className:"py-2 px-4 rounded-lg border border-gray-2 text-black dark:bg-transparent bg-gray font-medium dark:border-strokedark dark:text-white",children:l},r):null})),t("button",{disabled:e===m,onClick:()=>{e<m&&(a((e=>e+1)),s((e=>e+4)),i((e=>e+4)))},className:"py-2 px-6 rounded-lg border border-primary text-primary font-semibold hover:bg-primary hover:text-white dark:text-white dark:border-primary dark:hover:bg-primary dark:hover:text-white disabled:opacity-50",children:"Next"})]})]})]})]})},ct=()=>{const e=k(),{dispatch:a}=Ma(),[l,s]=d.useState(""),[n,i]=d.useState(""),[o,c]=d.useState("");return r("div",{className:"min-h-screen bg-white dark:bg-boxdark",children:[r("div",{className:"flex flex-wrap items-center min-h-screen",children:[t("div",{className:"hidden w-full xl:block xl:w-1/2",children:r("div",{className:"py-18.5 px-26 text-center",children:[r("span",{className:"mb-5.5 inline-block",children:[t("img",{className:"hidden dark:block",src:"/assets/logo-DfJf9Ycs.svg",alt:"Logo"}),t("img",{className:"dark:hidden",src:Sr,alt:"Logo"})]}),t("p",{className:"2xl:px-20",children:"Welcome back! Please login to continue."}),t("img",{className:"mt-15 inline-block",src:"/assets/login-CBqtlS4K.svg",alt:"Login"})]})}),t("div",{className:"w-full border-stroke dark:border-strokedark xl:w-1/2 xl:border-l-2",children:r("div",{className:"w-full p-4 sm:p-12.5 xl:p-17.5",children:[t("h2",{className:"mb-9 text-2xl font-bold text-black dark:text-white sm:text-title-xl2",children:"Sign In"}),o&&t("div",{className:"mb-6 rounded-lg bg-danger px-4 py-3 text-sm text-white",children:o}),r("form",{onSubmit:async r=>{var t,d;r.preventDefault();try{const r=await mr(a,{username:l,password:n});if(console.log("Login Response:",r.data),a({type:"SET_USER",payload:r.data}),r.data&&r.data.role){const a=r.data.role;console.log("User Role:",a),"Admin"===a||"admin"===a?e("/admin/dashboard"):"User"===a?e("/pegawai/dashboard"):c("Invalid user role")}else c("Role information not found in response")}catch(s){console.error("Login Error:",s),c((null==(d=null==(t=s.response)?void 0:t.data)?void 0:d.msg)||"Login failed")}},children:[r("div",{className:"mb-4",children:[t("label",{className:"mb-2.5 block font-medium text-black dark:text-white",children:"Username"}),r("div",{className:"relative",children:[t("input",{type:"text",placeholder:"Enter your username",value:l,onChange:e=>s(e.target.value),className:"w-full rounded-lg border border-stroke bg-transparent py-4 pl-6 pr-10 outline-none focus:border-primary focus-visible:shadow-none dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"}),t($,{className:"absolute right-4 top-4 text-xl"})]})]}),r("div",{className:"mb-6",children:[t("label",{className:"mb-2.5 block font-medium text-black dark:text-white",children:"Password"}),r("div",{className:"relative",children:[t("input",{type:"password",placeholder:"Enter your password",value:n,onChange:e=>i(e.target.value),className:"w-full rounded-lg border border-stroke bg-transparent py-4 pl-6 pr-10 outline-none focus:border-primary focus-visible:shadow-none dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"}),t(G,{className:"absolute right-4 top-4 text-xl"})]})]}),t("div",{className:"mb-5",children:t("input",{type:"submit",value:"Sign In",className:"w-full cursor-pointer rounded-lg border border-primary bg-primary p-4 text-white transition hover:bg-opacity-90"})})]})]})})]}),t("div",{className:"border-t border-stroke dark:border-strokedark",children:t("div",{className:"container mx-auto",children:t(qr,{type:"staff"})})})]})},mt=()=>r(st,{children:[t(pa,{pageName:"Change Password Form"}),t("div",{className:"sm:grid-cols-2",children:t("div",{className:"flex flex-col gap-9",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:t("h3",{className:"font-medium text-black dark:text-white",children:"Change Password Form"})}),t("form",{action:"#",children:r("div",{className:"p-6.5",children:[r("div",{className:"mb-4.5 ",children:[r("div",{className:"w-full mb-4",children:[r("label",{className:"mb-4 block text-black dark:text-white",children:["New Password ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"password",placeholder:"Enter new password",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),r("div",{className:"w-full mb-4",children:[r("label",{className:"mb-4 block text-black dark:text-white",children:["Repeat New Password ",t("span",{className:"text-meta-1",children:"*"})]}),t("input",{type:"password",placeholder:"Re-enter new password",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"}),t(G,{className:"absolute right-4 top-4 text-xl"})]})]}),t("div",{className:"flex flex-col md:flex-row w-full gap-3 text-center",children:t(l,{to:"",children:t(ha,{children:t("span",{children:"Save"})})})})]})})]})})})]}),pt=[{value:"LAND_PURCHASE",label:"Land Purchase",icon:je},{value:"LEGAL_FEES",label:"Legal Fees",icon:Ae},{value:"PROPERTY_TAX",label:"Property Tax",icon:p},{value:"DEVELOPMENT_COST",label:"Development Cost",icon:le},{value:"MAINTENANCE",label:"Maintenance",icon:le},{value:"UTILITIES",label:"Utilities",icon:Re},{value:"INSURANCE",label:"Insurance",icon:Le},{value:"MARKETING",label:"Marketing",icon:Pe},{value:"COMMISSION",label:"Commission",icon:De},{value:"OTHER",label:"Other",icon:_e}],ht=()=>{const e=k(),[a,l]=d.useState(!1),[s,n]=d.useState({expenseName:"",amount:"",expenseType:"",comments:"",expenseDate:(new Date).toISOString().split("T")[0],expenseImage:null}),[i,o]=d.useState(null),[c,m]=d.useState(""),h=e=>{const{name:a,value:r}=e.target;n((e=>({...e,[a]:r})))};return t(kr,{children:r("div",{className:"mx-auto max-w-screen-2xl p-4",children:[t(ma,{pageName:"Add New Expense"}),t("div",{className:"flex flex-col gap-6",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:r("div",{className:"flex items-center gap-3",children:[t(p,{className:"text-xl text-primary"}),t("h3",{className:"text-xl font-semibold text-black dark:text-white",children:"Expense Details"})]})}),r("form",{onSubmit:async a=>{var r,t;a.preventDefault(),l(!0),m("");try{const a=new FormData;Object.keys(s).forEach((e=>{a.append(e,s[e])})),await u.post("/api/expenses",a,{headers:{"Content-Type":"multipart/form-data"}}),E.success("Expense added successfully!"),e("/admin/expense/list")}catch(d){const e=(null==(t=null==(r=d.response)?void 0:r.data)?void 0:t.msg)||"Failed to create expense";m(e),E.error(e)}finally{l(!1)}},className:"p-6.5",children:[c&&t("div",{className:"mb-4 rounded-md bg-danger/10 py-4 px-6 text-sm text-danger",children:c}),r("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Expense Name ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative",children:[t("input",{type:"text",name:"expenseName",required:!0,value:s.expenseName,onChange:h,placeholder:"Enter expense name",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary pl-12"}),t(Te,{className:"absolute left-4 top-4 text-xl text-gray-500"})]})]}),r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Amount ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative",children:[t("input",{type:"number",name:"amount",required:!0,value:s.amount,onChange:h,placeholder:"Enter amount",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary pl-12"}),t(p,{className:"absolute left-4 top-4 text-xl text-gray-500"})]})]})]}),r("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Expense Type ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[r("select",{name:"expenseType",required:!0,value:s.expenseType,onChange:h,className:"relative z-20 w-full appearance-none rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary pl-12",children:[t("option",{value:"",children:"Select Expense Type"}),pt.map((e=>t("option",{value:e.value,children:e.label},e.value)))]}),t(Me,{className:"absolute left-4 top-4 text-xl text-gray-500"}),t("span",{className:"absolute right-4 top-4",children:t("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t("g",{opacity:"0.8",children:t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z",fill:""})})})})]})]}),r("div",{className:"w-full xl:w-1/2",children:[t("label",{className:"mb-2.5 block text-black dark:text-white",children:"Upload Receipt/Image"}),r("div",{className:"relative",children:[t("input",{type:"file",accept:"image/*",onChange:e=>{const a=e.target.files[0];a&&(n((e=>({...e,expenseImage:a}))),o(URL.createObjectURL(a)))},className:"w-full cursor-pointer rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary pl-12"}),t(Ie,{className:"absolute left-4 top-4 text-xl text-gray-500"})]}),i&&t("div",{className:"mt-3",children:t("img",{src:i,alt:"Preview",className:"max-h-40 rounded-lg object-contain border border-stroke p-2"})})]})]}),r("div",{className:"mb-6",children:[t("label",{className:"mb-2.5 block text-black dark:text-white",children:"Comments"}),r("div",{className:"relative",children:[t("textarea",{name:"comments",value:s.comments,onChange:h,rows:"4",placeholder:"Enter any additional comments",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary pl-12"}),t(Fe,{className:"absolute left-4 top-4 text-xl text-gray-500"})]})]}),r("div",{className:"flex flex-col md:flex-row w-full gap-3 text-center",children:[t("button",{type:"submit",disabled:a,className:"inline-flex items-center justify-center gap-2.5 rounded-md bg-primary py-4 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10",children:r(O,a?{children:[r("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[t("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}:{children:[t(p,{className:"text-lg"}),"Save Expense"]})}),t("button",{type:"button",onClick:()=>e("/admin/expense/list"),className:"inline-flex items-center justify-center gap-2.5 rounded-md bg-danger py-4 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10",children:"Cancel"})]})]})]})})]})})},ut=()=>{const e=k(),{id:a}=A(),[l,s]=d.useState({expenseName:"",amount:"",expenseType:"",comments:"",expenseDate:(new Date).toISOString().split("T")[0],expenseImage:null}),[n,i]=d.useState(""),[o,c]=d.useState(!1),[m,h]=d.useState("");d.useEffect((()=>{(async()=>{var e,r;try{const e=(await u.get(`/api/expenses/${a}`)).data;s({expenseName:e.expenseName,amount:e.amount,expenseType:e.expenseType,comments:e.comments||"",expenseDate:new Date(e.expenseDate||e.createdAt).toISOString().split("T")[0],expenseImage:null}),e.expenseImage&&i(`/uploads/${e.expenseImage}`)}catch(t){const a=(null==(r=null==(e=t.response)?void 0:e.data)?void 0:r.msg)||"Failed to fetch expense details";h(a),E.error(a)}})()}),[a]);const b=e=>{const{name:a,value:r}=e.target;s((e=>({...e,[a]:r})))};return t(kr,{children:r("div",{className:"mx-auto max-w-screen-2xl p-4",children:[t(ma,{pageName:"Edit Expense"}),t("div",{className:"flex flex-col gap-6",children:r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:r("div",{className:"flex items-center gap-3",children:[t(p,{className:"text-xl text-primary"}),t("h3",{className:"text-xl font-semibold text-black dark:text-white",children:"Edit Expense Details"})]})}),r("form",{onSubmit:async r=>{var t,d;r.preventDefault(),c(!0),h("");try{const r=new FormData;r.append("expenseName",l.expenseName),r.append("amount",l.amount),r.append("expenseType",l.expenseType),r.append("comments",l.comments),r.append("expenseDate",l.expenseDate),l.expenseImage&&r.append("expenseImage",l.expenseImage),await u.put(`/api/expenses/${a}`,r,{headers:{"Content-Type":"multipart/form-data"}}),E.success("Expense updated successfully!"),e("/admin/expense/list")}catch(s){const e=(null==(d=null==(t=s.response)?void 0:t.data)?void 0:d.msg)||"Failed to update expense";h(e),E.error(e)}finally{c(!1)}},className:"p-6.5",children:[m&&t("div",{className:"mb-4 rounded-md bg-danger/10 py-4 px-6 text-sm text-danger",children:m}),r("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Expense Name ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative",children:[t("input",{type:"text",name:"expenseName",required:!0,value:l.expenseName,onChange:b,placeholder:"Enter expense name",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary pl-12"}),t(Te,{className:"absolute left-4 top-4 text-xl text-gray-500"})]})]}),r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Amount ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative",children:[t("input",{type:"number",name:"amount",required:!0,value:l.amount,onChange:b,placeholder:"Enter amount",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary pl-12"}),t(p,{className:"absolute left-4 top-4 text-xl text-gray-500"})]})]})]}),r("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Expense Date ",t("span",{className:"text-meta-1",children:"*"})]}),t("div",{className:"relative",children:t("input",{type:"date",name:"expenseDate",value:l.expenseDate,onChange:b,className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary pl-12",required:!0})})]}),r("div",{className:"w-full xl:w-1/2",children:[r("label",{className:"mb-2.5 block text-black dark:text-white",children:["Expense Type ",t("span",{className:"text-meta-1",children:"*"})]}),r("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:[r("select",{name:"expenseType",required:!0,value:l.expenseType,onChange:b,className:"relative z-20 w-full appearance-none rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary pl-12",children:[t("option",{value:"",children:"Select Expense Type"}),pt.map((e=>t("option",{value:e.value,children:e.label},e.value)))]}),t(Me,{className:"absolute left-4 top-4 text-xl text-gray-500"}),t("span",{className:"absolute right-4 top-4",children:t("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t("g",{opacity:"0.8",children:t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z",fill:""})})})})]})]})]}),r("div",{className:"mb-4.5",children:[t("label",{className:"mb-2.5 block text-black dark:text-white",children:"Receipt/Bill Image"}),r("div",{className:"relative",children:[t("input",{type:"file",accept:"image/*",onChange:e=>{const a=e.target.files[0];a&&(s((e=>({...e,expenseImage:a}))),i(URL.createObjectURL(a)))},className:"w-full cursor-pointer rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary pl-12"}),t(Ie,{className:"absolute left-4 top-4 text-xl text-gray-500"})]}),n&&t("div",{className:"mt-3",children:t("img",{src:n,alt:"Current Receipt",className:"max-h-40 rounded-lg object-contain border border-stroke p-2"})})]}),r("div",{className:"mb-6",children:[t("label",{className:"mb-2.5 block text-black dark:text-white",children:"Comments"}),r("div",{className:"relative",children:[t("textarea",{name:"comments",value:l.comments,onChange:b,rows:"4",placeholder:"Enter any additional comments",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary pl-12"}),t(Fe,{className:"absolute left-4 top-4 text-xl text-gray-500"})]})]}),r("div",{className:"flex flex-col md:flex-row w-full gap-3 text-center",children:[t("button",{type:"submit",disabled:o,className:"inline-flex items-center justify-center gap-2.5 rounded-md bg-primary py-4 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10",children:r(O,o?{children:[r("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[t("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}:{children:[t(p,{className:"text-lg"}),"Update Expense"]})}),t("button",{type:"button",onClick:()=>e("/admin/expense/list"),className:"inline-flex items-center justify-center gap-2.5 rounded-md bg-danger py-4 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10",children:"Cancel"})]})]})]})})]})})},bt=({isOpen:e,onClose:a,onConfirm:l,title:d,message:s})=>e?r("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:a}),t("div",{className:"relative bg-white dark:bg-boxdark rounded-lg w-full max-w-md mx-4 p-6 shadow-xl",children:r("div",{className:"text-center",children:[t("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:t("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),t("h3",{className:"text-lg font-medium text-black dark:text-white mb-2",children:d||"Delete Confirmation"}),t("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:s||"Are you sure you want to delete this item? This action cannot be undone."}),r("div",{className:"flex justify-center gap-4",children:[t("button",{type:"button",onClick:a,className:"inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none",children:"Cancel"}),t("button",{type:"button",onClick:l,className:"inline-flex justify-center rounded-md border border-transparent px-4 py-2 text-sm font-medium text-white bg-danger hover:bg-opacity-90 focus:outline-none",children:"Delete"})]})]})})]}):null,xt=()=>{const[e,a]=d.useState([]),[s,n]=d.useState(!0),[i,o]=d.useState(""),[c]=d.useState(5),[m,p]=d.useState(1),[b,x]=d.useState(""),[k,g]=d.useState(""),[f,y]=d.useState({isOpen:!1,expenseId:null,expenseName:""});d.useEffect((()=>{v()}),[]);const v=async()=>{var e,r;try{const e=await u.get("/api/expenses");a(e.data)}catch(t){const a=(null==(r=null==(e=t.response)?void 0:e.data)?void 0:r.msg)||"Failed to fetch expenses";g(a),E.error(a)}finally{n(!1)}},N=e=>{const a=pt.find((a=>a.value===e));return a?a.label:e},w=e.reduce(((e,a)=>(e[a.expenseType]=(e[a.expenseType]||0)+a.amount,e)),{}),C=["#3C50E0","#10B981","#F59E0B","#EF4444","#6366F1","#8B5CF6","#F97316","#6B7280"],S={series:[{name:"Total Amount",data:Object.values(w)}],options:{chart:{type:"bar",height:350,toolbar:{show:!1},background:"transparent"},plotOptions:{bar:{borderRadius:4,horizontal:!1,columnWidth:"55%",distributed:!0}},dataLabels:{enabled:!0,style:{fontSize:"12px",colors:["#fff"]},formatter:function(e){return"â‚¹"+e.toFixed(2)}},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:Object.keys(w).map((e=>N(e))),axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:"#64748b"}}},yaxis:{title:{text:"Amount (â‚¹)",style:{color:"#64748b"}},labels:{formatter:function(e){return"â‚¹"+e.toFixed(0)},style:{colors:"#64748b"}}},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"â‚¹"+e.toFixed(2)}}},colors:C,legend:{show:!1}}},j={series:Object.values(w),options:{chart:{type:"donut",background:"transparent",foreColor:"#fff"},labels:Object.keys(w).map((e=>N(e))),colors:C,legend:{position:"bottom",labels:{colors:"#64748b"},markers:{width:8,height:8,radius:8}},plotOptions:{pie:{donut:{size:"75%",labels:{show:!0,name:{show:!0,fontSize:"14px",color:"#64748b"},total:{show:!0,label:"Total Expenses",fontSize:"16px",fontWeight:600,formatter:function(e){return"â‚¹"+e.globals.seriesTotals.reduce(((e,a)=>e+a),0).toFixed(2)},color:"#64748b"},value:{show:!0,fontSize:"16px",fontWeight:600,color:"#64748b"}}}}},dataLabels:{enabled:!0,formatter:function(e){return e.toFixed(1)+"%"},style:{fontSize:"12px",fontWeight:600,colors:["#fff"]},dropShadow:{enabled:!0,blur:3,opacity:.3}},stroke:{show:!1},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}},A=e.filter((e=>{var a;const r=!i||e.expenseType===i,t=!b||(e.expenseName.toLowerCase().includes(b.toLowerCase())||(null==(a=e.comments)?void 0:a.toLowerCase().includes(b.toLowerCase())));return r&&t})),R=m*c,L=R-c,P=A.slice(L,R),D=Math.ceil(A.length/c);return t(kr,s?{children:r("div",{className:"mx-auto max-w-screen-2xl p-4",children:[t(ma,{pageName:"Expense Management"}),r("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[t("div",{className:"flex items-center justify-center w-16 h-16 mb-6",children:t("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}),t("p",{className:"text-lg font-medium text-black dark:text-white",children:"Loading expenses..."}),t("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Please wait while we fetch the data"})]})]})}:{children:r("div",{className:"mx-auto max-w-screen-2xl p-4",children:[t(ma,{pageName:"Expense Management"}),t(bt,{isOpen:f.isOpen,onClose:()=>{y({isOpen:!1,expenseId:null,expenseName:""})},onConfirm:async()=>{var e,a;try{await u.delete(`/api/expenses/${f.expenseId}`),E.success("Expense deleted successfully!"),v(),y({isOpen:!1,expenseId:null,expenseName:""})}catch(r){const t=(null==(a=null==(e=r.response)?void 0:e.data)?void 0:a.msg)||"Failed to delete expense";g(t),E.error(t)}},title:"Delete Expense",message:`Are you sure you want to delete the expense "${f.expenseName}"? This action cannot be undone.`}),r("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 mb-4",children:[r("div",{className:"rounded-sm border border-stroke bg-white p-4 shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("h3",{className:"text-xl font-semibold text-black dark:text-white mb-4",children:"Expense Distribution"}),t("div",{className:"h-80",children:t(h,{options:j.options,series:j.series,type:"donut",height:"100%"})})]}),r("div",{className:"rounded-sm border border-stroke bg-white p-4 shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("h3",{className:"text-xl font-semibold text-black dark:text-white mb-4",children:"Expense Analysis"}),t("div",{className:"h-80",children:t(h,{options:S.options,series:S.series,type:"bar",height:"100%"})})]})]}),r("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[t("div",{className:"px-4 py-6 md:px-6 xl:px-7.5",children:r("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r("div",{className:"flex items-center gap-2 flex-1",children:[r("div",{className:"relative flex-1 max-w-xs",children:[t("input",{type:"text",placeholder:"Search expenses...",value:b,onChange:e=>x(e.target.value),className:"w-full rounded-lg border border-stroke bg-transparent py-2 pl-10 pr-4 outline-none focus:border-primary dark:border-strokedark dark:bg-boxdark"}),t("span",{className:"absolute left-3 top-2.5 text-xl text-gray-500",children:t(pe,{})})]}),r("select",{value:i,onChange:e=>o(e.target.value),className:"rounded-lg border border-stroke bg-transparent py-2 px-4 outline-none focus:border-primary dark:border-strokedark dark:bg-boxdark",children:[t("option",{value:"",children:"All Types"}),pt.map((e=>t("option",{value:e.value,children:e.label},e.value)))]})]}),r(l,{to:"/admin/expense/add",className:"inline-flex items-center justify-center rounded-md bg-primary py-2 px-6 text-center font-medium text-white hover:bg-opacity-90 transition duration-200 ease-in-out",children:[t(me,{className:"mr-2"})," Add New Expense"]})]})}),r("div",s?{className:"text-center py-8",children:[t("div",{className:"spinner"}),t("p",{className:"text-gray-500 mt-2",children:"Loading expenses..."})]}:{className:"max-w-full overflow-x-auto",children:[r("table",{className:"w-full table-auto",children:[t("thead",{children:r("tr",{className:"bg-gray-2 text-left dark:bg-meta-4",children:[t("th",{className:"py-4 px-4 font-medium text-black dark:text-white xl:pl-11",children:"Expense Name"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Type"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Amount"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Date"}),t("th",{className:"py-4 px-4 font-medium text-black dark:text-white",children:"Actions"})]})}),t("tbody",{children:P.map((e=>{return r("tr",{className:"border-b border-[#eee] dark:border-strokedark hover:bg-gray-50 dark:hover:bg-meta-4",children:[r("td",{className:"py-5 px-4 pl-9 xl:pl-11",children:[t("h5",{className:"font-medium text-black dark:text-white",children:e.expenseName}),e.comments&&t("p",{className:"text-sm text-gray-500",children:e.comments})]}),t("td",{className:"py-5 px-4",children:t("span",{className:`inline-flex rounded-full py-1 px-3 text-black dark:text-white  font-medium ${a=e.expenseType,{utilities:"bg-blue-100 text-blue-600",rent:"bg-green-100 text-green-600",salary:"bg-yellow-100 text-yellow-600",supplies:"bg-red-100 text-red-600",maintenance:"bg-indigo-100 text-indigo-600",marketing:"bg-purple-100 text-purple-600",insurance:"bg-orange-100 text-orange-600",other:"bg-gray-100 text-gray-600"}[a]||"bg-gray-100 text-gray-600"}`,children:N(e.expenseType)})}),t("td",{className:"py-5 px-4",children:r("p",{className:"text-black dark:text-white font-medium",children:["â‚¹",e.amount.toFixed(2)]})}),t("td",{className:"py-5 px-4",children:t("p",{className:"text-black dark:text-white",children:e.createdAt?new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"})}),t("td",{className:"py-5 px-4",children:r("div",{className:"flex items-center space-x-3.5",children:[t(l,{to:`/admin/expense/edit/${e.uuid}`,className:"hover:text-primary transition duration-200",children:t(he,{className:"text-xl"})}),t("button",{onClick:()=>(e=>{y({isOpen:!0,expenseId:e.uuid,expenseName:e.expenseName})})(e),className:"hover:text-danger transition duration-200",children:t(ue,{className:"text-xl"})})]})})]},e.uuid);var a}))})]}),r("div",{className:"flex flex-wrap items-center justify-between py-4 px-4 border-t border-stroke dark:border-strokedark",children:[t("div",{className:"flex items-center space-x-2",children:r("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["Showing ",L+1,"-",Math.min(R,A.length)," of ",A.length]})}),r("div",{className:"flex items-center space-x-2",children:[t("button",{onClick:()=>p((e=>Math.max(e-1,1))),disabled:1===m,className:"flex items-center justify-center rounded-lg border border-primary py-2 px-4 text-sm text-primary hover:bg-primary hover:text-white disabled:opacity-50 dark:border-primary dark:text-white dark:hover:bg-primary transition duration-200",children:"Previous"}),Array.from({length:D},((e,a)=>a+1)).map((e=>t("button",{onClick:()=>p(e),className:"flex items-center justify-center rounded-lg py-2 px-4 text-sm font-medium transition duration-200 "+(m===e?"bg-primary text-white":"border border-primary text-primary hover:bg-primary hover:text-white dark:border-primary dark:text-white dark:hover:bg-primary"),children:e},e))),t("button",{onClick:()=>p((e=>Math.min(e+1,D))),disabled:m===D,className:"flex items-center justify-center rounded-lg border border-primary py-2 px-4 text-sm text-primary hover:bg-primary hover:text-white disabled:opacity-50 dark:border-primary dark:text-white dark:hover:bg-primary transition duration-200",children:"Next"})]})]})]})]})]})})},kt=()=>{const[e,a]=d.useState({name:"",email:"",phone:"",message:""}),[l,s]=d.useState({loading:!1,success:!1,error:null}),n=e=>{const{name:r,value:t}=e.target;a((e=>({...e,[r]:t})))};return t($r,{children:r("div",{className:"min-h-screen bg-white dark:bg-boxdark",children:[t("div",{className:"container mx-auto px-4 py-8 lg:py-12",children:r("div",{className:"max-w-7xl mx-auto",children:[r("div",{className:"text-center mb-12",children:[t("h1",{className:"text-4xl lg:text-5xl font-bold text-black dark:text-white mb-4",children:"Contact Us"}),t("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Get in touch with us for any inquiries or support"})]}),r("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12",children:[r(Oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-white dark:bg-boxdark rounded-xl \n                  shadow-xl hover:shadow-2xl p-8\n                  border-2 border-stroke dark:border-strokedark \n                  transition-all duration-300",children:[t("h2",{className:"text-2xl font-bold text-black dark:text-white mb-6",children:"Send us a Message"}),r("form",{onSubmit:async r=>{var t,l;r.preventDefault(),s({loading:!0,success:!1,error:null});try{(await Ha("/api/email/contact",e)).data.success&&(s({loading:!1,success:!0,error:null}),a({name:"",email:"",phone:"",message:""}),setTimeout((()=>{s((e=>({...e,success:!1})))}),5e3))}catch(d){s({loading:!1,success:!1,error:(null==(l=null==(t=d.response)?void 0:t.data)?void 0:l.message)||"Failed to send message. Please try again."}),setTimeout((()=>{s((e=>({...e,error:null})))}),5e3)}},className:"space-y-6",children:[r("div",{children:[t("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2",children:"Your Name"}),r("div",{className:"relative",children:[t("input",{type:"text",name:"name",value:e.name,onChange:n,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 \n                        focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-boxdark-2\n                        text-gray-900 dark:text-gray-100",placeholder:"John Doe"}),t($,{className:"absolute right-3 top-3.5 text-gray-400"})]})]}),r("div",{children:[t("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2",children:"Email Address"}),r("div",{className:"relative",children:[t("input",{type:"email",name:"email",value:e.email,onChange:n,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 \n                        focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-boxdark-2\n                        text-gray-900 dark:text-gray-100",placeholder:"john@example.com"}),t(Ue,{className:"absolute right-3 top-3.5 text-gray-400"})]})]}),r("div",{children:[t("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2",children:"Phone Number"}),r("div",{className:"relative",children:[t("input",{type:"tel",name:"phone",value:e.phone,onChange:n,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 \n                        focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-boxdark-2\n                        text-gray-900 dark:text-gray-100",placeholder:"+1 (555) 000-0000"}),t(ze,{className:"absolute right-3 top-3.5 text-gray-400"})]})]}),r("div",{children:[t("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2",children:"Message"}),r("div",{className:"relative",children:[t("textarea",{name:"message",value:e.message,onChange:n,required:!0,rows:"4",className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 \n                        focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-boxdark-2\n                        text-gray-900 dark:text-gray-100",placeholder:"Your message here..."}),t($e,{className:"absolute right-3 top-3.5 text-gray-400"})]})]}),t("button",{type:"submit",disabled:l.loading,className:"w-full bg-primary text-white py-3 px-6 rounded-lg font-medium\n                    hover:bg-blue-600 transition-colors duration-300 disabled:opacity-50",children:l.loading?"Sending...":"Send Message"}),l.success&&t("div",{className:"bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-4 py-3 rounded-lg",children:"Message sent successfully!"}),l.error&&t("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-4 py-3 rounded-lg",children:l.error})]})]}),t("div",{className:"space-y-6",children:[{icon:t(Ge,{}),title:"Office Address",content:"RAGHAVA ELITE PROJECTS\n(REG NO: BLY-P-110-2023-24)\nAMRUTHA COLONY, CHIKALPARVI ROAD\nMANVI - 584123\nMOB: 9900220446"},{icon:t(Ge,{}),title:"Layout Address",content:"9TH WARD, OPP: SRIRAM INDUSTRY\nNEAR FOREST RANGE OFFICE\nMUSTOOR ROAD, MANVI-584123",onClick:()=>window.open("https://maps.app.goo.gl/LC3v5tY1Xf5hbegp7","_blank")},{icon:t(ze,{}),title:"Contact Numbers",content:"Main: +91 9686918665\n"},{icon:t(Ue,{}),title:"Email Addresses",content:"Info: raghav.elite.projects@gmail.com\n"}].map(((e,a)=>t(Oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1*a},className:"bg-white dark:bg-boxdark rounded-xl \n                      shadow-lg hover:shadow-xl p-6\n                      transform hover:scale-105 transition-all duration-300\n                      border-2 border-stroke dark:border-strokedark\n                      group "+(e.onClick?"cursor-pointer":""),onClick:e.onClick,children:r("div",{className:"flex items-start space-x-4",children:[t("div",{className:"w-12 h-12 rounded-lg bg-primary flex items-center justify-center\n                        transform group-hover:scale-110 transition-transform duration-300",children:t("div",{className:"text-white text-xl",children:e.icon})}),r("div",{children:[r("h3",{className:"text-lg font-semibold text-black dark:text-white mb-2 flex items-center gap-2",children:[e.title,e.onClick&&t(Ge,{className:"text-primary animate-bounce"})]}),t("p",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-line",children:e.content}),e.onClick&&t("p",{className:"text-primary mt-2 text-sm",children:"Click to open in Google Maps"})]})]})},a)))})]})]})}),t("div",{className:"mt-12 mb-12",children:t("div",{className:"container mx-auto px-4",children:t("div",{className:"max-w-7xl mx-auto",children:t(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-boxdark rounded-xl shadow-xl p-4\n                  border-2 border-stroke dark:border-strokedark",children:t("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3835.8067521882244!2d77.05019899999999!3d15.971465100000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bb7d10058cee913%3A0x66b0e7032568c2b!2sRAGHAV%20ELITE%20PROJECTS!5e0!3m2!1sen!2sin!4v1738206121713!5m2!1sen!2sin",width:"100%",height:"450",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"rounded-lg"})})})})})]})})},gt=()=>{const e=[{icon:t(Be,{className:"text-3xl"}),title:"Quality Assurance",description:"We maintain the highest standards in construction and materials."},{icon:t(re,{className:"text-3xl"}),title:"Trust & Reliability",description:"Building relationships through transparency and dependability."},{icon:t(qe,{className:"text-3xl"}),title:"Customer Satisfaction",description:"Your happiness is our top priority in every project."},{icon:t(ce,{className:"text-3xl"}),title:"Security",description:"Ensuring your investment is protected at every step."},{icon:t(Je,{className:"text-3xl"}),title:"Timely Delivery",description:"We value your time and stick to project schedules."},{icon:t(Ve,{className:"text-3xl"}),title:"Expert Team",description:"Skilled professionals dedicated to excellence."}],a=[{icon:t(He,{className:"text-3xl"}),title:"Landscaped Gardens",description:"Beautiful green spaces for relaxation"},{icon:t(We,{className:"text-3xl"}),title:"24/7 Water Supply",description:"Uninterrupted water supply with purification"},{icon:t(Ye,{className:"text-3xl"}),title:"Wide Roads",description:"Well-planned roads with proper lighting"},{icon:t(Ze,{className:"text-3xl"}),title:"Power Backup",description:"24/7 power backup for essential areas"},{icon:t(Ke,{className:"text-3xl"}),title:"CCTV Surveillance",description:"Round-the-clock security monitoring"},{icon:t(Xe,{className:"text-3xl"}),title:"Internet Ready",description:"Pre-installed fiber optic connectivity"},{icon:t(Qe,{className:"text-3xl"}),title:"Parking Space",description:"Designated parking for residents"},{icon:t(ea,{className:"text-3xl"}),title:"Jogging Track",description:"Dedicated track for fitness enthusiasts"},{icon:t(aa,{className:"text-3xl"}),title:"Children's Play Area",description:"Safe and fun space for kids"},{icon:t(ne,{className:"text-3xl"}),title:"Gated Community",description:"Secure entrance with 24/7 security"},{icon:t(ra,{className:"text-3xl"}),title:"Rain Water Harvesting",description:"Sustainable water conservation"},{icon:t(ta,{className:"text-3xl"}),title:"Waste Management",description:"Organized waste collection & disposal"}];return t($r,{children:t("div",{className:"min-h-screen bg-white dark:bg-boxdark",children:t("div",{className:"container mx-auto px-4 py-8 lg:py-12",children:r("div",{className:"max-w-7xl mx-auto",children:[r("div",{className:"text-center mb-12",children:[t("h1",{className:"text-4xl lg:text-5xl font-bold text-black dark:text-white mb-4",children:"Why Choose Us"}),t("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Discover the unique advantages of partnering with Raghav Elite Projects"})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:e.map(((e,a)=>r(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*a},className:"bg-white dark:bg-boxdark rounded-xl \n                                        shadow-lg hover:shadow-xl p-8\n                                        transform hover:scale-105 transition-all duration-300\n                                        border-2 border-stroke dark:border-strokedark\n                                        group",children:[t("div",{className:"w-16 h-16 rounded-lg bg-primary flex items-center justify-center mb-6\n                                        transform group-hover:scale-110 transition-transform duration-300",children:t("div",{className:"text-white",children:e.icon})}),t("h3",{className:"text-2xl font-semibold text-black dark:text-white mb-4",children:e.title}),t("p",{className:"text-gray-600 dark:text-gray-400",children:e.description})]},a)))}),r("div",{className:"mt-20",children:[r("div",{className:"text-center mb-12",children:[t("h2",{className:"text-3xl lg:text-4xl font-bold text-black dark:text-white mb-4",children:"World-Class Facilities"}),t("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Experience luxury living with our premium amenities and facilities"})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a.map(((e,a)=>r(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*a},className:"bg-white dark:bg-boxdark rounded-xl p-6\n                                            shadow-lg hover:shadow-xl\n                                            transform hover:scale-105 transition-all duration-300\n                                            border-2 border-stroke dark:border-strokedark\n                                            group flex items-center space-x-4",children:[t("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center\n                                            transform group-hover:scale-110 transition-transform duration-300",children:t("div",{className:"text-primary",children:e.icon})}),r("div",{children:[t("h3",{className:"text-lg font-semibold text-black dark:text-white mb-1",children:e.title}),t("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]})]},a)))})]}),t("div",{className:"mt-16",children:t("div",{className:"bg-white dark:bg-boxdark rounded-xl shadow-xl p-8\n                                border-2 border-stroke dark:border-strokedark",children:r("div",{className:"max-w-3xl mx-auto text-center",children:[t("h2",{className:"text-3xl font-bold text-black dark:text-white mb-6",children:"Our Commitment to Excellence"}),t("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"At Raghav Elite Projects, we're committed to delivering exceptional quality and value in every project. Our team of experts ensures that your investment is in safe hands."}),t("button",{className:"px-8 py-3 bg-primary text-white rounded-lg\n                                        transform hover:scale-105 transition-all duration-300\n                                        hover:shadow-lg",children:"Contact Us Today"})]})})})]})})})})},ft=()=>{const[e,a]=d.useState(null),l=[{id:1,category:"Completed Projects",title:"Luxury Villa Estate",description:"Premium residential development with modern amenities",imageUrl:"/assets/gallery1-LxERAKRh.jpeg"},{id:2,category:"Ongoing Projects",title:"Urban Apartments",description:"Contemporary city living spaces",imageUrl:"/assets/gallery2-otSL7wns.jpeg"},{id:3,category:"Featured Projects",title:"Waterfront Residences",description:"Exclusive waterfront properties with scenic views",imageUrl:"/assets/gallery3-DEFVbui5.jpeg"},{id:4,category:"Upcoming Projects",title:"Green Living Complex",description:"Eco-friendly residential development",imageUrl:"/assets/gallery4-2hp6KjjU.jpeg"},{id:5,category:"Completed Projects",title:"Modern Townhouses",description:"Stylish townhouses in prime location",imageUrl:"/assets/gallery5-C5dhcDHr.jpeg"}];return r($r,{children:[t("div",{className:"min-h-screen bg-white dark:bg-boxdark",children:t("div",{className:"container mx-auto px-4 py-8 lg:py-12",children:r("div",{className:"max-w-7xl mx-auto",children:[r("div",{className:"text-center mb-12",children:[t("h1",{className:"text-4xl lg:text-5xl font-bold text-black dark:text-white mb-4",children:"Our Project Gallery"}),t("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Explore our beautiful collection of completed and ongoing projects"})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(((e,a)=>r(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*a},className:"bg-white dark:bg-boxdark rounded-xl \n                    shadow-lg hover:shadow-xl\n                    transform hover:scale-105 transition-all duration-300\n                    border-2 border-stroke dark:border-strokedark\n                    overflow-hidden group",children:[r("div",{className:"relative aspect-video overflow-hidden",children:[t("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover transform \n                      group-hover:scale-110 transition-transform duration-500"}),t("div",{className:"absolute inset-0 bg-black/50 opacity-0 \n                      group-hover:opacity-100 transition-opacity duration-300\n                      flex items-center justify-center"})]}),r("div",{className:"p-6",children:[t("h3",{className:"text-xl font-semibold text-black dark:text-white mb-2",children:e.title}),t("p",{className:"text-gray-600 dark:text-gray-400",children:e.description})]})]},e.id)))})]})})}),e&&t("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:()=>a(null),children:r("div",{className:"max-w-4xl w-full bg-white/5 p-4 rounded-xl backdrop-blur-sm",children:[t("img",{src:e.imageUrl,alt:e.title,className:"w-full h-auto rounded-lg"}),r("div",{className:"mt-4 text-white",children:[t("span",{className:"text-sm text-primary font-medium mb-2 inline-block bg-white/10 px-3 py-1 rounded-full",children:e.category}),t("h3",{className:"text-2xl font-semibold mb-2 mt-2",children:e.title}),t("p",{className:"text-gray-300",children:e.description})]})]})})]})},yt=()=>{const e=k(),a=[{icon:t(da,{}),title:"Facility Documents",description:"facility documents for the project",fileName:"Facility_Infra_Details.pdf"},{icon:t(sa,{}),title:"Specifications",description:"Technical specifications and materials",fileName:"Facility_Infra_Details.pdf"},{icon:t(la,{}),title:"Project Brochure",description:"Complete project overview and details",fileName:"project_overview.pdf"}];return t($r,{children:t("div",{className:"min-h-screen bg-white dark:bg-boxdark",children:t("div",{className:"container mx-auto px-4 py-8 lg:py-12",children:r("div",{className:"max-w-7xl mx-auto",children:[r("div",{className:"text-center mb-12",children:[t("h1",{className:"text-4xl lg:text-5xl font-bold text-black dark:text-white mb-4",children:"Project Documents"}),t("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Download essential documents about our projects"})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(((e,a)=>r(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*a},className:"bg-white dark:bg-boxdark rounded-xl \n                                        shadow-lg hover:shadow-xl p-8\n                                        transform hover:scale-105 transition-all duration-300\n                                        border-2 border-stroke dark:border-strokedark\n                                        group cursor-pointer",onClick:()=>(async e=>{try{const a=`/documents/${e}`,r=await fetch(a);if(!r.ok)throw new Error("File not found");const t=await r.blob(),l=window.URL.createObjectURL(t),d=document.createElement("a");d.href=l,d.download=e,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(l)}catch(a){console.error("Error downloading file:",a),alert("Error downloading file. Please make sure the file exists and try again.")}})(e.fileName),children:[t("div",{className:"w-16 h-16 rounded-lg bg-primary flex items-center justify-center mb-6\n                                        transform group-hover:scale-110 transition-transform duration-300",children:t("div",{className:"text-white text-2xl",children:e.icon})}),t("h3",{className:"text-2xl font-semibold text-black dark:text-white mb-4",children:e.title}),t("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:e.description}),r("button",{className:"w-full px-4 py-2 bg-primary text-white\n                                        rounded-lg font-medium hover:bg-primary/90\n                                        transition-all duration-300 flex items-center justify-center gap-2",children:[t(la,{}),"Download Document"]})]},a)))}),t(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},className:"mt-16",children:t("div",{className:"bg-white dark:bg-boxdark rounded-xl shadow-xl p-8\n                                border-2 border-stroke dark:border-strokedark",children:r("div",{className:"max-w-3xl mx-auto text-center",children:[t("h2",{className:"text-3xl font-bold text-black dark:text-white mb-6",children:"Need Assistance?"}),t("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Our team is here to help you with any document-related queries. Feel free to reach out for detailed information about any project documentation."}),t("button",{className:"px-8 py-3 bg-primary text-white rounded-lg\n                                        transform hover:scale-105 transition-all duration-300\n                                        hover:shadow-lg",onClick:()=>e("/contact"),children:"Contact Support"})]})})})]})})})})},vt=()=>r(na,{children:[t(ia,{exact:!0,path:"/contact",element:t(kt,{})}),t(ia,{exact:!0,path:"/why-choose-us",element:t(gt,{})}),t(ia,{exact:!0,path:"/gallery",element:t(ft,{})}),t(ia,{exact:!0,path:"/project-documents",element:t(yt,{})}),t(ia,{exact:!0,path:"/admin/login",element:t(Jr,{})}),t(ia,{exact:!0,path:"/",element:t(Jr,{})}),t(ia,{exact:!0,path:"/pegawai/login",element:t(ct,{})}),t(ia,{exact:!0,path:"/admin/dashboard",element:t(Rr,{allowedRoles:["admin"],children:t(Lr,{})})}),t(ia,{path:"/admin/master-data/data-pegawai",element:t(Rr,{allowedRoles:["admin"],children:t(Zr,{})})}),t(ia,{path:"/admin/master-data/data-pegawai/form-data-pegawai",element:t(Rr,{allowedRoles:["admin"],children:t(fr,{})})}),t(ia,{path:"/admin/master-data/data-jabatan",element:t(Rr,{allowedRoles:["admin"],children:t(Hr,{})})}),t(ia,{path:"/admin/master-data/data-jabatan/form-data-jabatan",element:t(Rr,{allowedRoles:["admin"],children:t(gr,{})})}),t(ia,{path:"/admin/transaksi/data-absensi",element:t(Rr,{allowedRoles:["admin"],children:t(Qr,{})})}),t(ia,{path:"/admin/transaksi/setting-potongan-gaji",element:t(Rr,{allowedRoles:["admin"],children:t(tt,{})})}),t(ia,{path:"/admin/transaksi/setting-potongan-gaji/form-setting-potongan-gaji",element:t(Rr,{allowedRoles:["admin"],children:t(yr,{})})}),t(ia,{path:"/admin/transaksi/data-gaji",element:t(Rr,{allowedRoles:["admin"],children:t(at,{})})}),t(ia,{path:"/admin/laporan/laporan-gaji",element:t(Rr,{allowedRoles:["admin"],children:t(Dr,{})})}),t(ia,{path:"/admin/laporan/laporan-absensi",element:t(Rr,{allowedRoles:["admin"],children:t(Pr,{})})}),t(ia,{path:"/admin/laporan/slip-gaji",element:t(Rr,{allowedRoles:["admin"],children:t(_r,{})})}),t(ia,{path:"/admin/pengaturan/ubah-password",element:t(Rr,{allowedRoles:["admin"],children:t(Kr,{})})}),t(ia,{path:"/admin/master-data/lending/add-lending",element:t(Rr,{allowedRoles:["admin"],children:t(gr,{})})}),t(ia,{path:"/admin/lending/:loanId",element:t(Rr,{allowedRoles:["admin"],children:t(lt,{})})}),t(ia,{path:"/admin/master-data/lending/edit/:loanId",element:t(Rr,{allowedRoles:["admin"],children:t(vr,{})})}),t(ia,{path:"/admin/master-data/data-pegawai/edit/:userId",element:t(Rr,{allowedRoles:["admin"],children:t(dt,{})})}),t(ia,{exact:!0,path:"/pegawai/dashboard",element:t(Rr,{allowedRoles:["user"],children:t(nt,{})})}),t(ia,{exact:!0,path:"/pegawai/data-gaji",element:t(Rr,{allowedRoles:["user"],children:t(ot,{})})}),t(ia,{exact:!0,path:"/pegawai/pengaturan/ubah-password",element:t(Rr,{allowedRoles:["user"],children:t(mt,{})})}),t(ia,{path:"/admin/expense/add",element:t(Rr,{allowedRoles:["admin"],children:t(ht,{})})}),t(ia,{path:"/admin/expense/edit/:id",element:t(Rr,{allowedRoles:["admin"],children:t(ut,{})})}),t(ia,{path:"/admin/expense/list",element:t(Rr,{allowedRoles:["admin"],children:t(xt,{})})}),t(ia,{path:"*",element:t(Ar,{})})]});function Nt(){const[e,a]=d.useState(!0),r=document.getElementById("preloader");return r&&setTimeout((()=>{r.style.display="none",a(!1)}),2e3),d.useEffect((()=>{setTimeout((()=>a(!1)),1e3)}),[]),!e&&t(Ta,{children:t(Fr,{children:t(vt,{})})})}oa.createRoot(document.getElementById("root")).render(t(s.StrictMode,{children:t(ca,{children:t(Nt,{})})}));
